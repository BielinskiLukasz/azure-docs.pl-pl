<properties 
   pageTitle="アプリケーションのシナリオと設計 | Microsoft Azure" 
   description="Service Fabric のクラウド アプリケーションのカテゴリの概要ステートフル サービスとステートレス サービスを使用したアプリケーションの設計について説明します。"
   services="service-fabric" 
   documentationCenter=".net" 
   authors="msfussell" 
   manager="timlt" 
   editor=""/>

<tags
   ms.service="service-fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA" 
   ms.date="11/30/2015"
   ms.author="mfussell"/>


# Service Fabric アプリケーションのシナリオ

Microsoft Azure Service Fabric はさまざまな種類のビジネス アプリケーションやサービスを作成し実行できる信頼性の高い柔軟なプラットフォームを提供します。 これらのアプリケーションとマイクロサービスはステートレスまたはステートフルが考えられますが、最大限に効率化するために仮想マシン間でリソース分散されます。 Service Fabric 独自のアーキテクチャでは、リアルタイムに近いデータ分析、メモリ内のコンピューティング、並列トランザクション、アプリケーションでのイベント処理を実行できます。 リソース要件の変化に応じて、アプリケーションを簡単にスケール アップまたはスケール ダウン (実際にはスケール インまたはスケール アウト) できます。

Azure の Service Fabric プラットフォームは、次のカテゴリのアプリケーションやサービスに最適です。

- **可用性の高いサービス**: Service Fabric サービスにより非常に高速なフェールオーバーが提供されます。 Service Fabric では、複数のセカンダリ サービス レプリカを作成することができます。 ハードウェアまたはその他の障害によってノード、プロセス、または個々のサービスがダウンした場合、顧客へのごくわずかのサービスの中断とともに、セカンダリ レプリカの 1 つがすぐにプライマリ レプリカに昇格されます。

- **スケーラブルなサービス**: クラスター間でスケールアウトの状態になれるよう個々のサービスをパーティション分割できます。 さらに、動作中に個々のサービスの作成および削除を行うことができます。 サービスはリソースのニーズに応じて、迅速かつ簡単に、2 ～ 3 個のノード上の 2 ～ 3 個数個のインスタンスから、多数のインスタンス上の何千ものインスタンスにスケールアップし、その後すぐに再びスケールダウンすることができます。 Service Fabric を使用することで、このようなサービスを構築し、その完全なライフサイクルを管理することができます。

- **非静的データのコンピューティング**: Service Fabric では、データ、入出力、多くのコンピューティング処理を要するステートフルなアプリケーションを構築できます。 Service Fabric では、アプリケーションでの処理 (計算) とデータのコロケーションを実現できます。 今日、アプリケーションがデータへのアクセスを必要とする場合、外部のデータ キャッシュまたはストレージ階層に起因するネットワーク待機時間が発生するのが一般的です。 ステートフルな Service Fabric サービスを使用した場合、ネットワーク待機時間が解消されるので、パフォーマンスに優れた読み取りおよび書き込みが行えます。 たとえば、顧客に対してリアルタイムに近い推奨選択を実行するアプリケーションがあり、そのラウンド トリップ時間の要件が 100 ミリ秒未満であるとします。 リモート ストレージから必要なデータを取得する必要がある標準的な実装モデルの場合と比較して、Service Fabric サービスの待機時間およびパフォーマンス特性 (この場合、推奨選択の計算がデータおよびルールと共存されている) は、ユーザーに応答性の高いエクスペリエンスを提供します。

- **セッション ベースの対話型アプリケーション**: Service Fabric は、オンライン ゲームやインスタント メッセージングなどのアプリケーションで低待機時間の読み取りと書き込みが必要な場合に便利です。 Service Fabric では、ステートレスなアプリに必要な専用ストアやキャッシュを作成することなく、対話型のステートフルなアプリケーションを構築できます (待機時間が長くなります。さらに、一貫性に関する問題が生じる可能性があります)。

- **グラフの処理を分散**: ソーシャル ネットワークの拡大が大幅に増えると、大規模なグラフを分析する必要性も増します。 高速のスケーリングと並列するロード処理により、Service Fabric は大規模なグラフを処理する自然なプラットフォームになります。 ソーシャル ネットワー キング、ビジネス インテリジェンス、研究などのグループにとって非常にスケーラブルなサービスを構築できます。

- **データ分析とワークフロー**: Service Fabric の高速な読み取りや書き込みにより、イベントやデータのストリームを正しく処理する必要のあるアプリケーションを実現できます。 また、Service Fabric ではアプリケーションが処理パイプラインを記述するようにすることもでき、結果は信頼性が高く、データが失われることなく、トランザクションや財務のシステムを含む次の処理ステージに渡されるようにする必要があります。データの整合性とコンピューティングの保証も不可欠です。

## ステートレスとステートフルなマイクロサービスから成るアプリケーションの設計

Azure Cloud Service worker ロールでのアプリケーションの構築は、ステートレス サービスの一例です。 対照的に、ステートフルなマイクロサービスでは、要求およびその応答の範囲を超えて権限のある状態を維持します。この場合、レプリケーションによってサポートされるトランザクション保証機能を備えたシンプルな API を通して、高可用性と権限のある状態の整合性が保たれます。 Service Fabric のステートフルなサービスでは、高可用性 (HA) を平等に実現可能にすることで、データベースなどのデータ ストアだけでなく、すべての種類のアプリケーションに高可用性をもたらします。 これは自然な流れです。アプリケーションは、HA を求めて純粋なリレーショナル データベースを使用する方式から、NoSQL Database を使用する方式へとすでに移行しています。今では、「ホット」状態とデータがアプリケーション自身で管理され、信頼性、整合性、または可用性を損なうことがなく、パフォーマンスを向上させることができるようになりました。

ステートレス web アプリ (ASP.NET、node.js など) の組み合わせを持つ通常マイクロ サービスで構成されるアプリケーションの構築時 Service Fabric デプロイメント コマンドを使用して同じ Service Fabric クラスターに展開されているすべてのステートレスとステートフルなビジネス中間層サービスを呼び出しています。 これらのサービスは、スケール、信頼性、およびソース使用率について、それぞれ独立性を有しているため、開発環境とライフサイクル管理で機敏性が大幅に向上します。

純粋にステートレスなアプリケーションの可用性と待機時間の要件に対応するために従来必要だった追加のキューとキャッシュは、ステートフル マイクロサービスでは不要になるため、アプリケーション設計が単純化されます。 ステートフル サービスは高可用性と低待機時間を特徴とするため、アプリケーション全体では管理すべき変動要素が少なくなります。 次の図では、ステートレスとステートフルなアプリケーション設計の違いを示しています。 活用することにより、 [信頼性の高いサービス](service-fabric-reliable-services-introduction.md) と [高信頼アクター](service-fabric-reliable-actors-introduction.md) プログラミング モデルでは、ステートフルなサービス アプリケーションの複雑さを緩和、高いスループットと低待機時間を実現しながらします。

## ステートレス サービスを使用して構築されたアプリケーション

![ステートレス サービスを使用したアプリケーション][image1]

## ステートフル サービスを使用して構築されたアプリケーション

![ステートレス サービスを使用したアプリケーション][image2]


## 次のステップ

Service Fabric ステートレスとステートフル サービスの構築を開始します。 
[信頼性の高いサービス](service-fabric-reliable-services-quick-start.md) と [高信頼アクター](service-fabric-reliable-actors-get-started.md) プログラミング モデルです。

次のトピックもご覧ください。

[マイクロ サービスについて知る](service-fabric-overview-microservices.md)

[定義とサービスの状態の管理](service-fabric-concepts-state.md)

[サービスの可用性](service-fabric-availability-services.md)

[Service Fabric サービスの拡張性](service-fabric-concepts-scalability.md)

[Service Fabric サービスのパーティション分割](service-fabric-concepts-partitioning.md)


[image1]: media/service-fabric-application-scenarios/AppwithStatelessServices.jpg 
[image2]: media/service-fabric-application-scenarios/AppwithStatefulServices.jpg 

