<properties 
    pageTitle="Data Factory の使用事例 - 製品推奨" 
    description="Azure Data Factory と他のサービスを使用して実装した使用事例について説明します。" 
    services="data-factory" 
    documentationCenter="" 
    authors="spelluru" 
    manager="jhubbard" 
    editor="monicar"/>

<tags 
    ms.service="data-factory" 
    ms.workload="data-services" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="10/20/2015" 
    ms.author="spelluru"/>


# 使用事例 - 製品に関する推奨事項

Azure Data Factory は、ソリューション アクセラレータの Cortana Analytics Suite の実装に使用されている数多くあるサービスの 1 つです。 参照してください [Cortana Analytics Suite](http://www.microsoft.com/cortanaanalytics) の詳細については、このスイートのページです。 このドキュメントでは、Azure ユーザーが Azure Data Factory と他の Cortana Analytics コンポーネント サービスを使用して、既に解決および実装している一般的な使用事例について説明します。

## シナリオ

一般的に、オンライン小売業者は、顧客が最も興味を持ち、結果として購入する可能性が最も高い製品を提示することで、顧客の購入意欲を高めます。 そのために、個人用に設定された製品推奨を使用して、顧客のオンライン エクスペリエンスをカスタマイズする必要があります。製品推奨には、ユーザーの現在および過去の購入行動データ、製品情報、新規取り扱いのブランド、製品と顧客のセグメント データを考慮し、顧客に最も関連性が高い製品を提示します。 さらに、全ユーザーの全体的な使用行動の分析に基づいて、ユーザーに製品推奨を提供することができます。

オンライン小売業者の目標は、ユーザーのクリックから売上への転換を最適化し、売上額を向上することです。 そのために、顧客の関心と操作に基づいて、状況と行動に応じた製品推奨を提供する必要があります。 この使用事例では、ビジネスの一例として、顧客に合わせて最適化したいオンライン小売業者を取り上げていますが、ここで説明する原則は、個人用に設定された製品推奨を使用して商品やサービスに対する顧客の関心を引き、顧客の購入エクスペリエンスを強化したいと考えているすべての企業に適用できます。

## 課題

オンライン小売業者がこのような使用事例を実装するときに直面する課題は数多くあります。 第 1 に、オンプレミスとクラウドに保存されている複数のデータ ソースから、さまざまな規模と形のデータを取り込み、製品データ、顧客の行動履歴データ、ユーザーがオンライン小売店サイトを閲覧するときのユーザー データをキャプチャする必要があります。

第 2 に、個人用に設定された製品推奨を合理的かつ正確に計算し、予測する必要があります。 オンライン小売業者は、製品、ブランド、顧客行動データ、ブラウザー データに加え、過去の製品購入について他の顧客から寄せられたフィードバックも考慮して、ユーザーにとって最適な製品推奨を決定する必要があります。

第 3 に、シームレスな閲覧と購入のエクスペリエンス、最新で関連性が高い推奨を提供するために、推奨は即時にユーザーに示す必要があります。 最後に、小売業者は、全体的なアップセルとクロスセルについてクリックからの転換の成功を追跡して、アプローチの効果を測定し、調整して今後の推奨に生かす必要があります。

## ソリューションの概要

この例のユース ケースを解決し、Azure Data Factory と他の Cortana Analytics コンポーネント サービスを含む実在の Azure のユーザーによって実装された [HDInsight](http://azure.microsoft.com/services/hdinsight/) と [Power BI](https://powerbi.microsoft.com/) に取り込み、準備、変換、分析、および最終的なデータを発行します。

このオンライン小売業者は、ワークフロー全体のデータ ストレージ オプションとして、Azure BLOB ストア、オンプレミスの SQL サーバー、Azure SQL DB、およびリレーショナル データ マートを使用しています。 BLOB ストアには、顧客情報、顧客行動データ、および製品情報データが含まれています。 製品情報データには、オンプレミスの SQL データ ウェアハウスに格納された製品ブランド情報と製品カタログが含まれています。

次の図に示すように、すべてのデータは結合され、製品推奨システムに取り込まれます。ユーザーが小売業者の Web サイトで製品を閲覧すると、顧客の関心と操作に基づいて個人用に設定された推奨が提供されます。 また、特定の顧客に関連付けられていない Web サイト全体の使用パターンに基づいて、顧客が閲覧している製品に関連する可能性がある類似製品も表示されます。

![使用事例の図](./media/data-factory-product-reco-usecase/diagram-1.png)

オンライン小売業者の Web では、毎日 GB 単位の未加工の Web ログ ファイルが半構造ファイルとして生成されます。 未加工の Web ログ ファイルと、顧客および製品のカタログ情報は、Data Factory のグローバルにデプロイされたサービスとしてのデータ移動機能を使用して、Azure BLOB ストレージ アカウントに定期的に取り込まれます。 長期保存のために、1 日の未加工のログ ファイルは (年月別に) 分割され、BLOB ストレージに保存されます。 [Azure HDInsight](http://azure.microsoft.com/services/hdinsight/) (サービスとしての Hadoop) は、blob ストアに (管理の容易性、可用性、パフォーマンスを向上にするには) 用の未加工のログ ファイルをパーティション分割し、Hive を使用して大規模に取り込んだログの処理に使用され、Pig スクリプトを機械学習を個人用に設定された製品推奨を生成する推奨のシステム用の必要な入力値を抽出するログ データが処理されます。

機械学習には、この例で使用される推奨システムは、オープン ソースの機械学習推奨プラットフォームから [Apache Mahout](http://mahout.apache.org/)します。 注意してください [Azure Machine Learning](http://azure.microsoft.com/services/machine-learning/) カスタム モデルを適用することもできます。 Mahout モデルは、全体的な使用パターンに基づいて小売業者 Web サイトのアイテム間の類似性を推測し、個々のユーザーに基づいて個人用に設定された推奨を生成するために使用されます。

最後に、個人用に設定された製品の推奨事項の結果セットは、リレーショナル データ マートに移動され、小売業者の Web サイトに使用されます。 また、別のアプリケーションで BLOB ストレージから結果セットに直接アクセスしたり、別の消費者と使用事例のために他のストアに結果セットを移動したりすることもできます。

## メリット

ソリューションの製品推奨戦略を最適化し、経営目標に合わせて調整することで、オンライン小売業者の販売とマーケティングの目標を達成することができます。 また、この小売業者は、効率的で信頼性とコスト効果が高い方法で製品推奨ワークフローを運用および管理できるようになりました。また、クリックから売上への転換の成功の測定に基づいて、モデルを更新し、効果を微調整しやすくなりました。 小売業者は Azure Data Factory を使用することで、時間と費用がかかる手動のクラウド リソース管理を止め、オンデマンドのクラウド リソース管理に移行し、時間と費用を節約し、ソリューションのデプロイメントにかかる時間を短縮できました。 Azure クラシック ポータルから実行できる Data Factory の監視および管理の UI で、データ系列ビューと運用サービスのヘルス状態の確認とトラブルシューティングが簡単になりました。 完了データが確実に生成され、ユーザーに提供されるように、ソリューションをスケジュールできるようになりました。また、データと処理の依存関係は自動的に管理されるようになり、人の操作は不要になりました。

オンライン小売業者は、この個人用に設定されたショッピング エクスペリエンスを提供することで、より競争力が高く、魅力的なカスタマー エクスペリエンスを作り、継続的に売上と全体的な顧客満足度を向上しています。








