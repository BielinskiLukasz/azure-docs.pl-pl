# Azure と IoT

Microsoft Azure と (IoT) をモ ノのインターネットへようこそ。 この記事では、Azure のサービスを使用してデプロイする IoT ソリューションの一般的な特性を記述する標準的な IoT ソリューション アーキテクチャについて説明します。 標準的な IoT ソリューションでは、デバイス間の安全な双方向通信、場合によっては何百万にもなる番号付け、および自動化された予測分析を使用してデバイスからクラウドへのイベント ストリームから実態を明らかにするといったことを行うソリューション バックエンドが必要です。

## IoT ソリューションのアーキテクチャ

次の図は、一般的な IoT ソリューションのアーキテクチャを示しています。 特定の Azure サービス名は含まれずに、一般的な IoT ソリューションのアーキテクチャの主な要素が記されていることに注意してください。 以下のセクションでは、このソリューションの要素に関する詳細について説明します。

![IoT ソリューションのアーキテクチャ][img-solution-architecture]

### デバイスの接続性

一般的な IoT シナリオでは、デバイスは、ストレージと処理のためクラウドのエンドポイントに温度の記録などのテレメトリを送信します。 デバイスは、クラウドからデバイスへのコマンドを受信し、クラウド エンドポイントからのメッセージを読み取り、コマンドに応答することもできます。 たとえば、デバイスでは、データをサンプリングする間隔の変更を指示するコマンドを取得できます。

IoT のプロジェクトに接続する最も大きな課題の 1 つは、高い信頼性と安全には、ソリューションのバックエンドにデバイスを接続する方法です。 通常、IoT デバイスは、ブラウザーやモバイル アプリなどの他のクライアントと比較して異なる特性を持ちます。 IoT デバイスの特性は次のとおりです。

- 多くの場合、人間が操作することのない組み込みシステムです。
- 物理的なアクセスが非常に不経済なリモートの場所に配置できます。
- ソリューションのバックエンド経由で到達可能になります。
- 電源や処理リソースが限られている場合があります。
- ネットワーク接続が断続的に切れたり、遅かったり、高コストである場合があります。
- 専用、カスタム、または業界固有のアプリケーション プロトコルを使用することが必要な場合があります。
- 一般的なハードウェアおよびソフトウェア プラットフォームを多数使用して作成できます。

上記の要件に加え、IoT ソリューションはスケール、セキュリティ、および信頼性を提供する必要もあります。 そのため、一連の接続要件は、Web コンテナーやメッセージング ブローカーなどの従来のテクノロジを使用して実装するのが難しく、時間がかかります。

デバイスは、クラウド ゲートウェイ エンドポイントと直接通信できます。または、クラウド ゲートウェイがサポートする通信プロトコルをデバイスが使用できない場合は、プロトコル変換を実行する中間ゲートウェイを介して接続できます。

### データ処理と分析

クラウド、IoT ソリューション バックエンド。

- デバイスから大量のテレメトリを受信し、そのデータを処理および格納する方法を決定します。
- クラウドから特定のデバイスにコマンドを送信できることもあります。
- デバイスをプロビジョニングしてコントロールするデバイスが、インフラストラクチャに接続するアクセス許可を有効にするデバイスの登録の機能を提供します。
- 使用すると、デバイスの状態を追跡し、そのアクティビティを監視できます。

IoT ソリューションには、自動フィードバックのループが含まれる場合があります。 たとえば、機械学習のバックエンドでのモジュールでは、利用統計情報を特定のデバイスの温度が通常の運用レベルを超えてから識別し、措置を実行して有効にすると、デバイスにコマンドを送信することができます。

### プレゼンテーション

多くの IoT ソリューションでは、ユーザーが、デバイスから収集されたデータを表示して分析することができます。 それらの表示は、ダッシュボードや BI レポートの形式の場合があります。


[img-solution-architecture]: ./media/iot-azure-and-iot/iot-reference-architecture.png 
[lnk-machinelearning]: http://azure.microsoft.com/services/machine-learning/ 
[azure iot suite]: http://azure.microsoft.com/solutions/iot 

