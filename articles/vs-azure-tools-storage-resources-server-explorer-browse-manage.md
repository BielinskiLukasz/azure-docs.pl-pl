<properties
   pageTitle="サーバー エクスプローラーを使用したストレージ リソースの参照と管理 | Microsoft Azure"
   description="サーバー エクスプローラーを使用したストレージ リソースの参照と管理"
   services="visual-studio-online"
   documentationCenter="na"
   authors="TomArcher"
   manager="douge"
   editor="" />
<tags
   ms.service="storage"
   ms.devlang="multiple"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="08/24/2015"
   ms.author="tarcher" />

# サーバー エクスプローラーを使用したストレージ リソースの参照と管理

Azure Tools for Visual Studio をインストール済みである場合、Azure のストレージ アカウントから、BLOB、キュー、テーブルのデータを表示できます。 サーバー エクスプローラーの Azure の [Storage] ノードに、ローカル ストレージ エミュレーター アカウントをはじめとする Azure ストレージ アカウント内のデータが表示されます。

メニュー バーで、Visual Studio で、[サーバー エクスプ ローラーを表示する **ビュー**, 、**サーバー エクスプ ローラー**します。 ストレージ ノードは、接続されている各 Azure サブスクリプション/証明書に存在するすべてのストレージ アカウントを示します。 ストレージ アカウントが表示されない場合は、手順に従って追加できます [後述の「](#add-storage-accounts-by-using-server-explorer)します。

Azure SDK 2.7 以降では、新しいクラウド エクスプローラーを使用して Azure のリソースを表示したり管理したりすることもできます。 参照してください [クラウド エクスプ ローラーでの Azure リソースの管理](https://msdn.microsoft.com/library/azure/mt185741.aspx) の詳細。


## Visual Studio でのストレージ リソースの表示と管理

サーバー エクスプローラーには、ストレージ エミュレーター アカウント内の BLOB、キュー、テーブルの一覧が自動的に表示されます。 ストレージ エミュレーター アカウントがサーバー エクスプ ローラーでとして記憶域] ノード下に表示、 **開発** ノードです。

ストレージ エミュレーター アカウントのリソースを表示する、 **開発** ノードです。 展開すると、ストレージ エミュレーターが起動していないかどうか、 **開発** ノードで自動的に開始されます。 これには数秒かかる場合があります。 ストレージ エミュレーターの起動中、Visual Studio の他の領域では作業を続行できます。

ストレージ アカウントのリソースを表示するには、サーバー エクスプローラーでストレージ アカウントのノードを展開します。 次のサブノードが表示されます。

- BLOB

- キュー

- テーブル

## BLOB リソースの操作

[BLOB] ノードには、選択したストレージ アカウントのコンテナーの一覧が表示されます。 BLOB コンテナーには BLOB ファイルが含まれており、これらの BLOB をフォルダーとサブフォルダーにまとめることができます。 参照してください [.NET から Blob ストレージを使用する方法](..storage/storage-dotnet-how-to-use-blobs/) の詳細。

### BLOB コンテナーを作成するには

1. ショートカット メニューを開き、 **Blob** ] ノードを選択し **Blob コンテナーの作成**します。

1. 新しいコンテナーの名前を入力、 **Blob コンテナーの作成** ] ダイアログ ボックスを選択し、 **Ok**します。

    ![Adding a new blob container](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC744153.bmp)

    >[AZURE.NOTE] Blob コンテナー名は、数字 (0 ~ 9) または小文字の英字 (a ~ z) で始める必要があります。

### BLOB コンテナーを削除するには

- クリックして削除する blob コンテナーのショートカット メニューを開いて **削除**します。

### BLOB コンテナーの内容を表示するには

- 一覧で blob コンテナー名のショートカット メニューを開きを選択し、 **[Blob コンテナーの**です。

    表示した BLOB コンテナーの内容は、BLOB コンテナーのビューと呼ばれるタブに表示されます。

    ![VST_SE_BlobDesigner](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC749016.png)

    BLOB コンテナーのビューの右上隅にあるボタンを使用して、BLOB に次の操作を実行できます。

    - フィルター値を入力して適用する

    - コンテナー内の BLOB の一覧を更新する

    - ファイルをアップロードする

    - BLOB を削除する

      >[AZURE.NOTE] 基になるファイルを削除しない blob コンテナーからファイルを削除します。blob コンテナーから削除されるだけです。

    - BLOB を開く

    - BLOB をローカル コンピューターに保存する

### BLOB コンテナーにフォルダーまたはサブフォルダーを作成するには

1. サーバー エクスプローラーで BLOB コンテナーを選択します。 コンテナー] ウィンドウでは、 **Blob のアップロード** ] ボタンをクリックします。

    ![Uploading a file into a blob folder](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC766037.png)

1.  **新しいファイルのアップロード** ] ダイアログ ボックスで、選択、 **参照** 、アップロードするファイルを指定するボタンをクリックし、フォルダーの名前を入力し、 **フォルダー (省略可能)** ボックス。

    同じ手順に従って、コンテナーのフォルダーにサブフォルダーを追加できます。 フォルダー名を指定しない場合、ファイルは BLOB コンテナーの最上位にアップロードされます。コンテナー内の指定したフォルダーにファイルが表示されます。

    ![Folder added to a blob container](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC766038.png)

1. フォルダーをダブルクリックするか、Enter キーを押してフォルダーの内容を表示します。 選択して、コンテナーのルートの元に移動できますコンテナーのフォルダーにしたら、 **親ディレクトリを開く** (上矢印) ボタンをクリックします。

### コンテナーのフォルダーを削除するには

 - フォルダー内のファイルをすべて削除します。

    >[AZURE.NOTE] Blob コンテナー内のフォルダーは仮想フォルダーであるため、空のフォルダーを作成することはできません。 またそのファイルの内容を削除するフォルダーを削除することができます。 フォルダーを削除するには、フォルダーの内容全体を削除する必要があります。

### コンテナー内の BLOB をフィルター処理するには

共通のプレフィックスを指定すると、表示される BLOB をフィルター処理できます。

たとえば、プレフィックスを入力する `hello` フィルターのテキスト] を選択し、 **Execute** (**!**)これまでのボタンをクリックすると、「こんにちは」で始まる blob のみが表示されます。

![VST_SE_FilterBlobs](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC519076.png)


>[AZURE.NOTE] [フィルター] フィールドでは、大文字小文字を区別し、ワイルドカード文字によるフィルター処理をサポートしていないです。 BLOB はプレフィックスでのみフィルター処理できます。 仮想階層で区切り記号を使用して BLOB を整理している場合は、プレフィックスに区切り記号を含めることができます。 たとえば、「HelloFabric/」というプレフィックスでフィルター処理を行うと、この文字列で始まる BLOB がすべて返されます。

### BLOB データをダウンロードするには

-  **サーバー エクスプ ローラー**, 1 つまたは複数の blob のショートカット メニューを開きを選択し、 **を開く**, 、または blob の名前を選択し、選択、 **を開く** クリックするか、blob 名をダブルクリックします。

    Blob ダウンロードの進行状況が表示されます、 **Azure のアクティビティ ログ** ウィンドウです。

    その種類のファイルの既定のエディターで BLOB が開きます。 そのファイルの種類がオペレーティング システムで認識された場合、ファイルは、ローカルにインストールされているアプリケーションで開かれます。それ以外の場合は、BLOB のファイルの種類に対応したアプリケーションを選択するように求めるメッセージが表示されます。 BLOB をダウンロードしたときに作成されるローカル ファイルは、読み取り専用としてマークされます。

    BLOB データは、ローカルにキャッシュされ、BLOB サービス内の BLOB の最終更新時刻に照らしてチェックされます。 最後にダウンロードされたときから BLOB が更新されている場合は、BLOB が再度ダウンロードされます。それ以外の場合は、ローカル ディスクから BLOB が読み込まれます。 既定では、BLOB が一時ディレクトリにダウンロードされます。 特定のディレクトリに blob をダウンロードするショートカット メニューを開き、選択した blob 名と選択 **名前を付けて保存**します。 この方法で BLOB を保存すると、BLOB ファイルは開かれません。また、読み取り/書き込み属性のローカル ファイルが作成されます。

### BLOB をアップロードするには

- 選択、 **Blob のアップロード** コンテナーを開いて blob コンテナーのビューで表示] をクリックします。

    アップロード対象ファイル (複数可) を選択し、任意の種類のファイルをアップロードできます。  **Azure のアクティビティ ログ** アップロードの進行状況が表示されます。 Blob データを操作する方法の詳細については、次を参照してください。 [.NET で Azure Blob ストレージ サービスを使用する方法](http://go.microsoft.com/fwlink/p/?LinkId=267911)します。

### BLOB に転送されたログを表示するには

- Azure 診断を使用して Azure アプリケーションからデータのログを記録し、ログをストレージ アカウントに転送した場合は、これらのログ用に Azure で作成されたコンテナーが表示されます。 サーバー エクスプローラーでこれらのログを表示すれば、アプリケーション、特に Azure にデプロイされたアプリケーションの問題を簡単に特定できます。 Azure 診断の詳細については、次を参照してください。 [Azure 診断を使用してログ データの収集](https://msdn.microsoft.com/library/azure/gg433048.aspx)します。

### BLOB の URL を取得するには

- Blob のショートカット メニューを開き、選択 **URL のコピー**します。

### BLOB を編集するには

- Blob を選択し、選択、 **Blob を開く** ] ボタンをクリックします。

    ファイルは一時的な場所にダウンロードされ、ローカル コンピューター上で開かれます。 変更を行った後は、BLOB を再度アップロードする必要があります。

### キュー リソースの操作

ストレージ サービスのキューは、ストレージ アカウント内でホストされています。ストレージ サービスを使用すると、メッセージを渡す機能によって、クラウド サービスのロールが互いにやり取りしたり、他のサービスとやり取りしたりすることができます。 キューは、クラウド サービス、および外部クライアントの Web サービスからプログラムによってアクセスできます。 キューは、Visual Studio のサーバー エクスプローラーを使用して直接アクセスすることもできます。

キューを使用するクラウド サービスを開発する場合は、コードを開発およびテストするときに、Visual Studio を使用してキューを対話的に作成したり操作したりすることができます。

サーバー エクスプローラーでは、ストレージ アカウント内のキューを表示したり、キューを作成 (または削除) したりすることができるほか、キューを開いてメッセージを表示したり、メッセージをキューに追加したりすることができます。 キューを閲覧用に開くと、個々のメッセージを表示できます。左上隅のボタンを使用して、キューに対して次の操作を実行することが可能です。

- キューの表示を更新する

- メッセージをキューに追加する

- 最上位のメッセージをデキューする

- キュー全体をクリアする

次の図は、2 つのメッセージを含むキューを示しています。

![Viewing a Queue](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC651470.png)

ストレージの詳細については、キュー サービスを参照してください。 [方法: キュー ストレージ サービスを使用して](http://go.microsoft.com/fwlink/?LinkID=264702)します。 Web サービスに関する情報のストレージ サービスのキューを参照してください [キュー サービスの概念](http://go.microsoft.com/fwlink/?LinkId=264788)します。 Visual Studio を使用して、記憶域サービスのキューにメッセージを送信する方法については、次を参照してください。 [記憶域サービスのキューにメッセージの送信](https://msdn.microsoft.com/library/azure/jj649344.aspx)します。

>[AZURE.NOTE] ストレージ サービスのキューは、サービス バス キューとは異なります。 Service Bus キューの詳細については、Service Bus のキュー、トピック、サブスクリプションに関するページを参照してください。

### テーブル リソースの操作

Azure Table Storage サービスは、大量の構造化データを格納します。 このサービスは、Azure クラウドの内部および外部からの認証された呼び出しを受け付ける NoSQL データストアです。 Azure のテーブルは、構造化された非リレーショナル データを格納するのに最適です。

### テーブルを作成するには

1. サーバー エクスプ ローラーで選択、 **テーブル** ノードが記憶域のアカウントをクリックして **Create Table**します。

1.  **Create Table** ] ダイアログ ボックスで、テーブルの名前を入力します。

### テーブル データを表示するには

1. サーバー エクスプ ローラーで開く、 **Azure** ノードを展開し、開く、 **ストレージ** ノードです。

1. 興味あるした後に開くとストレージ アカウントのノードを開き、 **テーブル** ノードをストレージ アカウントのテーブルの一覧を表示します。

1. テーブルのショートカット メニューを開きを選択し、 **ビュー テーブル**します。

    ![An Azure table in Solution Explorer](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC744165.png)

テーブルは、エンティティ (行に表示) とプロパティ (列に表示) で構成されています。 たとえば、次の図に示されているエンティティ、 **テーブル デザイナー**:

### テーブル データを編集するには

1.  **テーブル デザイナー**, エンティティ (単一の行) またはプロパティ (単一のセル) のショートカット メニューを開きを選択し、 **編集**します。

    ![Add or Edit a Table Entity](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC656238.png)

    単一テーブルのエンティティが、同じ一連のプロパティ (列) を持っている必要はありません。 テーブル データの表示と編集には、次の制限があることに留意してください。
    - 表示またはバイナリ データを編集することはできません (型 byte[] ですが、そのテーブルに格納できます、します。

    - 編集することはできません、 **PartitionKey** または **RowKey** フィールドでは、azure テーブル ストレージは、その操作をサポートしないためです。

    - Timestamp という名前のプロパティは作成できません。Azure ストレージ サービスで、同名のプロパティが使用されています。

    - DateTime 値を入力する場合、ご利用のコンピューターの地域と言語の設定に合った適切な形式で入力する必要があります (たとえば、英語 (U.S) の場合であれば、MM/DD/YYYY HH:MM:SS [AM|PM]) 。

### エンティティを追加するには

1.  **テーブル デザイナー**, 、選択、 **エンティティの追加** テーブル ビューの右上隅近くにあるボタンです。

    ![Add Entity](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC655336.png)

1.  **エンティティの追加** ] ダイアログ ボックスの値を入力して、 **PartitionKey** と **RowKey** プロパティです。

    ![Add Entity Dialog Box](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC655335.png)

    ダイアログ ボックスを閉じた後に変更することはできないので、値は慎重に入力してください。変更するには、エンティティを削除してから追加し直す必要があります。

## エンティティをフィルター処理するには

クエリ ビルダーを使用する場合、テーブルに表示されるエンティティ セットをカスタマイズすることができます。

1. クエリ ビルダーを開くには、テーブルを閲覧用に開きます。

1. テーブル ビューのツール バーの右端にあるボタンをクリックします。

     **クエリ ビルダー** ] ダイアログ ボックスが表示されます。 次の図は、クエリ ビルダーで作成しているクエリを示しています。

    ![Query Builder](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC652231.png)

1. クエリの作成を終えたら、ダイアログ ボックスを閉じます。 クエリの結果であるテキスト形式が WCF Data Services フィルターとしてテキスト ボックスに表示されます。

1. クエリを実行するには、緑の三角形のアイコンをクリックします。

    表示されるエンティティ データを抽出することも、 **テーブル デザイナー** フィルター フィールドに直接 WCF Data Services フィルター文字列を入力する場合。 この種の文字列は、SQL の WHERE 句に似ていますが、サーバーには HTTP 要求として送信されます。 フィルター文字列を作成する方法については、次を参照してください。 [テーブル デザイナーのフィルター文字列の作成](https://msdn.microsoft.com/library/azure/ff683669.aspx)します。

    有効なフィルター文字列の例を次の図に示します。

    ![VST_SE_TableFilter](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC655337.png)

## ストレージ データの更新

サーバー エクスプローラーでストレージ アカウントからデータに接続したり、データを取得したりするときには、処理が完了するまでに最大で 1 分かかる場合があります。 接続できない場合は、操作がタイムアウトする可能性があります。 データの取得中、Visual Studio の他の部分では作業を続行できます。 時間がかかりすぎる場合に、操作を取り消すに、 **更新の中止** サーバー エクスプ ローラー ツールバーのボタンをクリックします。

### BLOB コンテナー データを更新するには

- 選択、 **Blob** ノードの下に **ストレージ** を選択し、 **更新** サーバー エクスプ ローラー ツールバーのボタンをクリックします。

- 選択されている blob の一覧を更新する、 **Execute** ] ボタンをクリックします。

### テーブル データを更新するには

- 選択、 **テーブル** ノードの下に **ストレージ** を選択し、 **更新** ] ボタンをクリックします。

- 表示されているエンティティの一覧を更新する、 **テーブル デザイナー**, 、選択、 **Execute** のボタンでは、 **テーブル デザイナー**します。

### キュー データを更新するには

- 選択、 **キュー** ] ノードを選択し、 **更新** ] ボタンをクリックします。

### ストレージ アカウントのすべてのアイテムを更新するには

- アカウント名を選択し、選択、 **更新** サーバー エクスプ ローラーのツールバーのボタンをクリックします。

## サーバー エクスプローラーを使用してストレージ アカウントを追加する

サーバー エクスプローラーを使用してストレージ アカウントを追加する方法は 2 つあります。 Azure サブスクリプションで新しいストレージ アカウントを作成することも、既存のストレージ アカウントを接続することもできます。

### サーバー エクスプローラーを使用して新しいストレージ アカウントを作成するには

1. サーバー エクスプローラーで [Storage] ノードのショートカット メニューを開き、[ストレージ アカウントの作成] をクリックします。

    ![Create a new Azure storage account](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC744166.png)

1. 選択するか、次の情報で新しいストレージ アカウントを入力、 **ストレージ アカウントの作成** ] ダイアログ ボックス。

    - ストレージ アカウントを追加する Azure サブスクリプション。

    - 新しいストレージ アカウントに使用する名前。

    - リージョンまたはアフィニティ グループ (米国西部や東アジアなど)。

    - geo 冗長など、ストレージ アカウントで使用するレプリケーションの種類。

1. 選択 **作成**します。

    新しいストレージ アカウントに表示される、 **ストレージ** ソリューション エクスプ ローラーの一覧です。

### サーバー エクスプローラーを使用して既存のストレージ アカウントを接続するには

1. サーバー エクスプ ローラーで、Azure ストレージ ノードのショートカット メニューを開き、クリックして **外部の記憶域をアタッチ**します。

    ![Adding an existing storage account](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC766039.png)

1. 選択するか、次の情報で新しいストレージ アカウントを入力、 **ストレージ アカウントの作成** ] ダイアログ ボックス。

    - 接続する既存のストレージ アカウントの名前。 名前を入力するか、一覧から選択できます。

    - 選択したストレージ アカウントのキー。 この値は通常、ストレージ アカウントを選択したときに提供されます。 ストレージ アカウントのキーを Visual Studio に記憶させるには、[アカウント キーを記憶する] チェック ボックスをオンにします。

    - HTTP、HTTPS、カスタム エンドポイントなど、ストレージ アカウントへの接続に使用するプロトコル。 参照してください [接続文字列を構成する方法](https://msdn.microsoft.com/library/azure/ee758697.aspx) 詳細については、カスタム エンドポイント。

### セカンダリ エンドポイントを表示するには

- 使用してストレージ アカウントを作成した場合、 **読み取りアクセス地理冗長** レプリケーション オプション、そのセカンダリ エンドポイントを表示することができます。 アカウント名のショートカット メニューを開きを選択し、 **プロパティ**します。

    ![Storage secondary endpoints](./media/vs-azure-tools-storage-resources-server-explorer-browse-manage/IC766040.png)

### サーバー エクスプローラーからストレージ アカウントを削除するには

- サーバー エクスプ ローラーで、アカウント名のショートカット メニューを開くにして **削除**します。 ストレージ アカウントを削除すると、そのアカウントに関して保存されていたキー情報もすべて削除されます。

    >[AZURE.NOTE] サーバー エクスプ ローラーからストレージ アカウントを削除した場合に影響を与えない、ストレージ アカウントまたは。 それに含まれる任意のデータサーバー エクスプ ローラーからの参照が削除されるだけです。 ストレージ アカウントを完全に削除するには、Microsoft Azure 管理ポータルを使用します。

## 次のステップ

Azure ストレージ サービスを使用する方法の詳細については、次を参照してください。 [Azure ストレージ サービスにアクセスする](https://msdn.microsoft.com/library/azure/ee405490.aspx)です。

