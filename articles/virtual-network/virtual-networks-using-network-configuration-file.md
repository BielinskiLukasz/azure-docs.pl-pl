<properties 
    pageTitle="ネットワーク構成ファイルを使用した仮想ネットワークの構成" 
    description="Azure の管理ポータルでネットワーク構成ファイルをエクスポートおよびインポートして仮想ネットワークを作成または変更する方法について説明します。 " 
    services="virtual-network" 
    documentationCenter="" 
    authors="telmosampaio" 
    manager="carmonm" 
    editor="tysonn"/>

<tags
    ms.service="virtual-network"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="infrastructure-services" 
    ms.date="12/07/2015"
    ms.author="telmos"/>


# ネットワーク構成ファイルを使用した仮想ネットワークの構成

Azure 管理ポータルを使用するか、またはネットワーク構成ファイルを使用して、仮想ネットワーク (VNet) を構成できます。

## ネットワーク構成ファイルの作成および変更

ネットワーク構成ファイルを作成する最も簡単な方法は、既存の仮想ネットワーク構成からネットワーク設定をエクスポートし、仮想ネットワーク用の構成設定を含むようにそのファイルに変更を加えることです。

ネットワーク構成ファイルを編集するには、単にファイルを開き、適切な変更を加えてから保存します。 ネットワーク構成ファイルは、任意の *xml* エディターを使用して変更できます。

ためのガイダンスに厳密に従う必要があります [、ネットワーク構成ファイルのスキーマ設定](https://msdn.microsoft.com/library/azure/jj157100.aspx)します。

Azure では、何かがデプロイされているサブネットは**使用中**と見なされます。 使用中のサブネットは変更することができません。 サブネットを変更する前に、そのサブネットにデプロイされているすべてのものを、変更対象ではない別のサブネットに移動してください。 参照してください [VM またはロール インスタンスを異なるサブネットに移動](virtual-networks-move-vm-role-to-subnet.md)します。

## 管理ポータルを使用した仮想ネットワークの設定のエクスポートおよびインポート

PowerShell または管理ポータルを使用して、ネットワーク構成ファイルに含まれるネットワーク構成の設定をエクスポートおよびインポートすることができます。 ここでは、管理ポータルを使用してエクスポートおよびインポートする方法について説明します。

### ネットワーク設定をエクスポートするには

エクスポートすると、サブスクリプションの仮想ネットワークのすべての設定が .xml ファイルに書き込まれます。

1. **管理ポータル**にログインします。
2. 管理ポータルで、**[ネットワーク]** ページの下部にある **[エクスポート]** をクリックします。
3. **[ネットワーク構成をエクスポートする]** ウィンドウで、ネットワークの設定をエクスポートするサブスクリプションを選択していることを確認します。 次に、右下にあるチェックマークをクリックします。
4. メッセージが表示されたら、*NetworkConfig.xml* ファイルを任意の場所に保存します。


### ネットワーク設定をインポートするには

1. **管理ポータル**の左下にあるナビゲーション ウィンドウで、**[新規]** をクリックします。
2. **[ネットワーク サービス]**、**[仮想ネットワーク]**、**[構成のインポート]** の順にクリックします。
3. **[ネットワーク構成ファイルをインポートする]** ページで、ネットワーク構成ファイルを参照して、**[次へ]** 矢印をクリックします。
4. **[ネットワークを構築しています]** ページに、変更または作成されるネットワーク構成のセクションを示す情報が表示されます。 変更が適切であることを確認して、チェックマークをクリックして仮想ネットワークの更新または作成処理に進みます。




