<properties 
    pageTitle="Import/Export を使用した Blob Storage へのデータの転送 | Microsoft Azure" 
    description="Azure ポータルでインポート ジョブおよびエクスポート ジョブを作成し、データを BLOB ストレージに転送する方法について説明します。" 
    authors="robinsh" 
    manager="carmonm" 
    editor="" 
    services="storage" 
    documentationCenter=""/>

<tags 
    ms.service="storage" 
    ms.workload="storage" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="12/04/2015" 
    ms.author="robinsh"/>



# Microsoft Azure Import/Export サービスを使用した Blob Storage へのデータの転送

[AZURE.INCLUDE [storage-selector-portal-import-export-service](../../includes/storage-selector-portal-import-export-service.md)]

## 概要

ネットワーク経由のアップロードが実現不可能であるか、非常にコストがかかる場合には、Microsoft Azure Import/Export サービスを使用して、ファイルの大量のデータを Azure BLOB ストレージに転送できます。 また、Import/Export サービスを使用して、BLOB ストレージにある大量のデータをオンプレミスのインストールに、タイムリーでコスト効率の高い方法で転送することもできます。

ファイルの大量のデータを BLOB ストレージに転送するために、そのデータを含む 1 台以上のハード ドライブを Azure データ センターに発送することができます。このデータ センターでデータがストレージ アカウントにアップロードされます。 同様に、BLOB ストレージからデータをエクスポートするために、空のハード ドライブを Azure データ センターに発送することができます。このデータ センターで、ストレージ アカウントの BLOB データがハード ドライブにコピーされ、返送されます。 データを含むドライブを発送する前に、ドライブにあるデータを暗号化してください。Import/Export サービスで、返送するデータをエクスポートするときにも、データは発送前に暗号化されます。

インポートおよびエクスポート ジョブは、2 つの方法のいずれかで作成し、管理できます。

- 使用して、 [Azure ポータル](portal.azure.com)します。
- サービスへの REST インターフェイスを使用する。

この記事は、インポート/エクスポート サービスの概要を説明し、使用する方法について説明します [Azure ポータル](portal.azure.com) インポート/エクスポート サービスを使用します。 REST API については、次を参照してください。、 [Azure インポート/エクスポート サービス REST API リファレンス](http://go.microsoft.com/fwlink/?LinkID=329099)します。

## Import/Export サービスの概要

BLOB ストレージとの間でインポートまたはエクスポートの処理を開始するには、最初に "*ジョブ*" を作成します。 ジョブは、"*インポート ジョブ*" または "*エクスポート ジョブ*" です。

- オンプレミスのデータを、Azure ストレージ アカウントの BLOB に転送する場合は、インポート ジョブを作成します。
- ストレージ アカウントに現在、BLOB として格納されているデータを、返送されるハード ドライブに移す場合は、エクスポート ジョブを作成します。

ジョブを作成するときは、1 台以上のハード ドライブを Azure データ センターに発送することを Import/Export サービスに通知します。 インポート ジョブの場合は、ファイル データを含むハード ドライブを発送します。 エクスポート ジョブの場合は、空のハード ドライブを発送します。

インポート ジョブのために発送するドライブを準備するには、**Microsoft Azure Import/Export ツール**を実行します。これによって、ドライブ上のデータが BitLocker で暗号化され、後で説明するドライブのジャーナル ファイルが作成されるため、ドライブへのデータのコピーが容易になります。
> [AZURE.NOTE] ドライブ上のデータは、BitLocker ドライブ暗号化で暗号化する必要があります。 こうすると、移送中にデータが保護されます。 エクスポート ジョブの場合は、ドライブを返送する前に Import/Export サービスでデータが暗号化されます。

インポート ジョブまたはエクスポート ジョブの作成時には、*ドライブ ID* も必要になります。これは、ドライブの製造元によって特定のドライブに割り当てられたシリアル番号です。 ドライブ ID は、ドライブの外側に表示されています。

### 要件および適用範囲

1.  **サブスクリプションおよびストレージ アカウント:** 既存の Azure サブスクリプションと、Import/Export サービスを使用するための 1 つ以上のストレージ アカウントを持っている必要があります。 各ジョブを使用できるのは、1 つのストレージ アカウントとの間でのデータ転送だけです。 言い換えると、ジョブは、複数のストレージ アカウントに対して使用できません。 新しいストレージ アカウントの作成方法の詳細については、次を参照してください。 [をストレージ アカウントを作成する方法](storage-create-storage-account.md)します。
2.  **ハード ドライブ:** インポート/エクスポート サービスで使用できるのは、3.5 インチ SATA II/III 内部ハード ドライブだけです。 最大 6 TB までのハード ドライブがサポートされます。 インポート ジョブの場合は、ドライブの最初のデータ ボリュームだけが処理されます。 データ ボリュームは NTFS でフォーマットされている必要があります。 大部分のコンピューターには、SATA II/III ディスクを外部 SATA II/III USB アダプターで外部接続できます。
3.  **BitLocker 暗号化:** ハード ドライブに格納されたデータはすべて、数字のパスワードで保護された暗号化キーを使って、BitLocker で暗号化する必要があります。
4.  **BLOB ストレージ ターゲット:** データは、ブロック blob およびページ blob との間で、アップロードまたはダウンロードが可能です。
5.  **ジョブの数:** お客様は、ストレージ アカウントごとに 20 個までのアクティブなジョブを使用できます。
6.  **ジョブの最大サイズ:** ジョブのサイズは、使用するハード ドライブの容量と、ストレージ アカウントに格納できるデータの最大量によって決まります。 各ジョブは、10 台までのハード ドライブを含むことができます。
  > [AZURE.IMPORTANT] USB アダプターが組み込まれた外部ハード ディスク ドライブは、このサービスではサポートされていません。 外部 HDD は準備しないでください。 また、データをインポートする際に外部ケース内のディスクを使用することはできません。 3.5" SATA II/III **内部**ハード ディスク ドライブを使用します。 SATA ディスクをコンピューターに直接接続できない場合は、外部の SATA - USB アダプターを使用します。 「よく寄せられる質問」のセクションで推奨されているアダプターの一覧を参照してください。

## Azure ポータルでのインポート ジョブの作成

インポート ジョブを作成し、ストレージ アカウントにインポートするデータを含む 1 台以上のドライブをデータ センターに発送することをインポート/エクスポート サービスに通知します。

### ドライブの準備

インポート ジョブを作成する前に、Microsoft Azure Import/Export ツールでドライブを準備します。詳細については、Microsoft Azure インポート/エクスポート ツールを使用して、次を参照してください。、 [Microsoft Azure インポート/エクスポート ツール リファレンス](http://go.microsoft.com/fwlink/?LinkId=329032)します。ダウンロードすることができます、 [Microsoft Azure インポート/エクスポート ツール](http://go.microsoft.com/fwlink/?LinkID=301900&clcid=0x409) 、スタンドアロン パッケージとして。

ドライブを準備するには、次の 3 つの手順を実行します。

1.  インポートするデータと必要なドライブの数を決定します。
2.  Azure BLOB サービスで、データのインポート先の BLOB を特定します。
3.  Microsoft Azure Import/Export ツールを使用して、1 台以上のハード ドライブにデータをコピーします。

準備中に Microsoft Azure Import/Export ツールで、各ドライブの*ドライブのジャーナル* ファイルが生成されます。 ドライブのジャーナル ファイルは、ドライブ自体ではなく、ローカル コンピューターに格納されます。 インポート ジョブの作成時には、ジャーナル ファイルをアップロードします。 ドライブのジャーナル ファイルには、ドライブ ID と BitLocker キーのほかに、ドライブに関するその他の情報も含まれます。

### インポート ジョブの作成

1.  ストレージ アカウントに移動し、ドライブの準備ができたら、 [Azure ポータル](portal.azure.com), 、およびダッシュ ボードを表示します。 **[概要]** の下で **[インポート ジョブの作成]** をクリックします。

2.  ウィザードの手順 1 で、ドライブ準備が整っていることと、利用可能なドライブのジャーナル ファイルがあることを示します。

3.  ステップ 2. で、このインポート ジョブの担当者の連絡先情報を入力します。 インポート ジョブの詳細なログ データを保存する場合は、確認するためのオプション **['waimportexport' コンテナーに詳細ログを保存**します。

4.  ステップ 3. で、ドライブの準備中に取得したドライブのジャーナル ファイルをアップロードします。 準備したドライブごとに 1 つのファイルをアップロードする必要があります。

5.  ステップ 4. で、インポート ジョブのわかりやすい名前を入力します。 小文字、数字、ハイフン、入力した名前が含まれていることと、アンダー スコアが文字で始める必要があり、スペースを含めることはできません。 ここで入力した名前を使って、進行中および完了後にジョブを追跡します。

    次に、データ センターのリージョンを一覧から選択します。 データ センターのリージョンに、パッケージの発送先となるデータ センターとその住所が示されます。 詳細については、FAQ を参照してください。

6.  ステップ 5. で、返送に利用する宅配業者を一覧から選択し、業者のアカウント番号を入力します。 マイクロソフトでは、インポート ジョブの完了後、このアカウントを使用してドライブを返送します。

    問い合わせ番号がある場合は、業者を一覧から選択し、問い合わせ番号を入力します。

    まだ問い合わせ番号がない場合は、**[パッケージの発送後、このインポート ジョブの発送情報を指定します]** を選択してから、インポート処理を完了します。

7. パッケージの発送後に問い合わせ番号を入力するに戻り、 **インポート/エクスポート** でストレージ アカウントのページ、 [Azure ポータル](portal.azure.com), リストから、ジョブを選択 **発送情報**します。 ウィザードの指示に従い、ステップ 2. で問い合わせ番号を入力します。

    追跡番号がジョブ作成後 2 週間以内に更新されない場合、ジョブは期限切れになります。

    ジョブの状態が "作成"、"発送"、または "転送" の場合は、ウィザードのステップ 2. で宅配業者のアカウント番号を更新することもできます。 ジョブの状態が "パッケージ" になると、そのジョブの宅配業者のアカウント番号は更新できません。

## Azure ポータルでのエクスポート ジョブの作成

エクスポート ジョブを作成し、ストレージ アカウントからデータをエクスポートした後に返送してもらう 1 台以上の空のドライブをデータ センターに発送することを Import/Export サービスに通知します。

1.  エクスポート ジョブを作成する、ストレージ アカウントに移動、 [Azure ポータル](portal.azure.com), 、およびダッシュ ボードを表示します。 [ **概要**, 、] をクリックして **エクスポート ジョブの作成**, 、ウィザードを実行し、続けます。

2.  ステップ 2. で、このエクスポート ジョブの担当者の連絡先情報を入力します。 エクスポート ジョブの詳細なログ データを保存する場合は、確認するためのオプション **['waimportexport' コンテナーに詳細ログを保存**します。

3.  手順 3 では、ストレージ アカウントから空のドライブまたはドライブにエクスポートする blob データを指定します。 ストレージ アカウント内のすべての blob データをエクスポートすることができますか、または blob をエクスポートする blob のセットを指定できます。

    - エクスポートする BLOB を指定するには、**[等しい]** セレクターを使用し、コンテナー名で始まる、BLOB への相対パスを指定します。 ルート コンテナーを指定するには、"*$root*" を使用します。
    - プレフィックスで始まるすべての BLOB を指定するには、**[指定値で始まる]** セレクターを使用し、スラッシュ "/" で始まるプレフィックスを指定します。 プレフィックスには、コンテナー名のプレフィックス、コンテナー名全体、またはコンテナー名全体の後に BLOB 名のプレフィックスを付けた名前を指定できます。

    次の表は、有効な BLOB のパスの例を示します。

     セレクター| BLOB パス| 説明
    ---|---|---
     指定値で始まる| /| ストレージ アカウントのすべての BLOB をエクスポートする
     指定値で始まる| /$root/| ルート コンテナー内のすべての BLOB をエクスポートする
     指定値で始まる| /book| プレフィックス "**book**" で始まるすべてのコンテナー内のすべての BLOB をエクスポートする
     指定値で始まる| /music/| コンテナー "**music**" 内のすべての BLOB をエクスポートする
     指定値で始まる| /music/love| コンテナー "**music**" 内の、プレフィックス "**love**" で始まるすべての BLOB をエクスポートする
     等しい| $root/logo.bmp| ルート コンテナー内の BLOB "**logo.bmp**" をエクスポートする
     等しい| videos/story.mp4| コンテナー "**videos**" 内の BLOB "**story.mp4**" をエクスポートする

4.  ステップ 4. で、エクスポート ジョブのわかりやすい名前を入力します。 入力した名前は、小文字、数字、ハイフンを含めることであり、アンダー スコアが文字で始める必要があり、スペースを含めることはできません。

    データ センターのリージョンに、パッケージの発送先となるデータ センターが示されます。 詳細については、FAQ を参照してください。

5.  ステップ 5. で、返送に利用する宅配業者を一覧から選択し、業者のアカウント番号を入力します。 マイクロソフトでは、エクスポート ジョブの完了後、このアカウントを使用してドライブを返送します。

    問い合わせ番号がある場合は、業者を一覧から選択し、問い合わせ番号を入力します。

    まだ問い合わせ番号がない場合は、**[パッケージの発送後、このエクスポート ジョブの発送情報を指定します]** を選択してから、エクスポート処理を完了します。

6. パッケージの発送後に問い合わせ番号を入力するに戻り、 **インポート/エクスポート** でストレージ アカウントのページ、 [Azure ポータル](portal.azure.com), リストから、ジョブを選択 **発送情報**します。 ウィザードの指示に従い、ステップ 2. で問い合わせ番号を入力します。

    追跡番号がジョブ作成後 2 週間以内に更新されない場合、ジョブは期限切れになります。

    ジョブの状態が "作成"、"発送"、または "転送" の場合は、ウィザードのステップ 2. で宅配業者のアカウント番号を更新することもできます。 ジョブの状態が "パッケージ" になると、そのジョブの宅配業者のアカウント番号は更新できません。

> [AZURE.NOTE] エクスポート対象の BLOB がハード ドライブへのコピー時に使用中の場合は、Azure Import/Export サービスは BLOB のスナップショットを作成してスナップショットをコピーします。

## Azure ポータルでのジョブの状態の追跡

ジョブをエクスポートまたはインポートの状態を追跡できます、 [Azure ポータル](portal.azure.com)します。 管理ポータルで自分のストレージ アカウントに移動し、**[インポート/エクスポート]** タブをクリックします。 ジョブの一覧がページに表示されます。 この一覧は、ジョブの状態、ジョブ名、ジョブの種類、または問い合わせ番号でフィルター処理できます。

次の表では、それぞれのジョブの状態の意味を説明しています。

 ジョブの状態| 説明
---|---
 作成| ジョブが作成されましたが、発送情報が入力されていません。
 発送| ジョブが作成され、発送情報が入力されています。
 転送| ハード ドライブから (インポート ジョブの場合)、またはハード ドライブに (エクスポート ジョブの場合) データを転送中です。
 パッケージ| データの転送が完了し、返送のためにハード ドライブを準備しています。
 完了| ハード ドライブが返送されました。


## エクスポート ジョブの BitLocker キーの表示

エクスポート ジョブの場合は、ドライブのサービスで生成された BitLocker キーを表示し、コピーできます。これで、Azure データ センターからドライブを受け取った後、エクスポートされたデータを復号化できます。 ストレージ アカウントに移動、 [Azure ポータル](portal.azure.com), 、] をクリックし、 **インポート/エクスポート** ] タブをクリックします。 一覧からエクスポート ジョブを選択し、**[キーの表示]** ボタンをクリックします。 BitLocker キーが、次のように表示されます。

## よく寄せられる質問

### 全般

**Import/Export サービスの料金はいくらですか。**

- 参照してください、 [料金のページ](http://go.microsoft.com/fwlink/?LinkId=329033) 料金情報についてです。

**データのインポートまたはエクスポートには、どのくらいの時間がかかりますか。**

- ディスクの発送にかかる時間のほかに、データをコピーするために、TB あたり数時間がかかります。

**サポートされるインターフェイスの種類を教えてください。**

- Import/Export サービスは、3.5 インチ SATA II/III 内部ハード ドライブ ディスク (HDD) をサポートしています。 発送前に、USB デバイスのデータを SATA に転送するには、次のコンバーターを使用できます。
    - Anker 68UPSATAA-02BU
    - Anker 68UPSHHDS-BU
    - Startech SATADOCK22UE

> [AZURE.NOTE] 上に示した以外のコンバーターを持っている場合は、サポートされているコンバーターを購入する前に、そのコンバーターで Microsoft Azure Import/Export ツールを実行してドライブの準備を試み、問題なく実行できるかどうかを確認することもできます。

- USB アダプターが組み込まれた外部 HDD はサポートされていません。

**10 台を超えるドライブでインポートまたはエクスポートするには、どうすればよいでしょうか。**

- Import/Export サービスで、1 つのインポート ジョブまたはエクスポート ジョブが参照できるのは、10 台のドライブまでです。 10 台を超えるドライブを発送する必要がある場合は、複数のジョブを作成できます。

**サポートされる要件に適合しない HDD を誤って発送した場合は、どうなりますか。**

- Azure データ センターでは、サポートされる要件に適合しないドライブは返送されます。 サポートされる要件を満たすのが、パッケージ内の一部のドライブだけである場合は、それらのドライブが処理され、要件を満たさないドライブは返送されます。

### Import/Export ジョブの管理

**Azure のストレージ アカウントを削除した場合、インポート ジョブとエクスポート ジョブはどうなりますか。**

- ストレージ アカウントを削除すると、すべての Azure Import/Export ジョブがアカウントと共に削除されます。

**ジョブを取り消すことはできますか。**

- ジョブの状態が "作成" または "発送" のときは、ジョブを取り消すことができます。

**Azure ポータルでは、どのくらいの期間、完了したジョブの状態を確認できますか。**

- 完了したジョブの状態は、最大 90 日間、表示されます。 90 日が経過すると、完了したすべてのジョブは削除されます。

**Bitlocker 暗号化は必須の要件ですか。**

- はい。 すべてのドライブを BitLocker キーで暗号化する必要があります。

**ドライブは、返送前にフォーマットするのですか。**

- 番号 すべてのドライブは、BitLocker で準備する必要があります。

**エクスポート ジョブを作成するときに、ディスクの準備作業を実行する必要がありますか。**
- いいえ、ただしいくつかの事前チェックをお勧めします。 Azure インポート/エクスポート ツールを使用して、必要なディスクの数を確認 [PreviewExport](https://msdn.microsoft.com/library/azure/dn722414.aspx) コマンドです。 使用するドライブのサイズに基づいて、選択した BLOB に対するドライブの使用率をプレビューするのに役立ちます。 また、エクスポート ジョブに対して発送されるハード ドライブを読み書きできることを確認します。

### 発送

**利用できる宅配業者は何ですか。**

- 米国およびヨーロッパの地域でのみの [Federal Express](http://www.fedex.com/us/oadr/) (FedEx) がサポートされています。 すべてのパッケージが FedEx Ground または FedEx International Economy で返送されます。

- アジアのリージョンで、のみの [DHL](http://www.dhl-welcome.com/Tutorial/) はサポートされています。 すべてのパッケージが DHL Express Worldwide で返送されます。
    > [AZURE.IMPORTANT] Azure Import/Export サービスに問い合わせ番号を通知する必要があります。通知しないと、ジョブは処理されません。

**返送には費用がかかりますか。**

- マイクロソフトでは、ジョブの作成時に指定された業者のアカウント番号を使用して、データ センターからドライブを返送します。 必ずデータ センターのリージョンでサポートされている業者のアカウント番号を指定してください。 作成することができます、 [FedEx](http://www.fedex.com/us/oadr/) (の米国およびヨーロッパ) または [DHL](http://www.dhl-welcome.com/Tutorial/) (アジア) の宅配業者アカウントを持っていない場合。

- 返送にかかる料金は指定の宅配業者アカウントに対して課金され、金額は業者によって異なります。

**データを発送したり、返送されたデータを受領したりできるのは、どこですか。**

- Import/Export サービスでは、次のリージョンのストレージ アカウントからのデータのインポートとエクスポートをサポートしています。
    - 米国東部
    - 米国西部
    - 米国中北部
    - 米国中南部
    - 北ヨーロッパ
    - 西ヨーロッパ
    - 東アジア
    - 東南アジア

- お客様のストレージ アカウントが存在するリージョン内の発送先住所が提供されます。 たとえば、米国にお住まいで、ストレージ アカウントが西ヨーロッパ データ センターにある場合は、ドライブの発送先としてヨーロッパの住所が提供されます。
    > [AZURE.IMPORTANT] 発送する物理メディアが国境を越える場合があることに注意してください。 お客様は、物理メディアおよびデータが輸入および輸出に関して該当する法律に準拠していることを確認する必要があります。 物理メディアを発送する前に、アドバイザーに依頼して、メディアおよびデータが指定のデータ センターに合法的に発送できることを確認してもらってください。 それにより、マイクロソフトへのメディアの到着が遅れるのを防ぐことができます。

- パッケージを発送は規定に従う必要があります [Microsoft Azure サービス条件](http://azure.microsoft.com/support/legal/services-terms/)します。

**インポート/エクスポート ジョブのドライブを Microsoft から購入できますか。**

-   番号 ジョブとエクスポート ジョブは、両方のインポート用のドライブを発送する必要があります。

**パッケージには何を含めればよいですか。**

- ハード ドライブのみを発送してください。 電源ケーブルや USB ケーブルなどは同梱しないでください。


## 関連項目

[AzCopy コマンド ライン ユーティリティを使用してデータを転送します。](storage-use-azcopy)


[import-job-03]: ./media/storage-import-export-service/import-job-03.png 
[export-job-03]: ./media/storage-import-export-service/export-job-03.png 
[export-job-bitlocker-keys]: ./media/storage-import-export-service/export-job-bitlocker-keys.png 

