## シナリオ

NSG の作成方法をわかりやすく説明するために、このドキュメントでは次のシナリオを使用します。

![VNet のシナリオ](./media/virtual-networks-create-nsg-scenario-include/figure1.png)

このシナリオでは、各サブネットの NSG を作成、 **TestVNet** 以下の説明に従って、仮想ネットワーク。 

- **NSG フロント エンド**します。 NSG が適用されるフロント エンド、 *フロント エンド* サブネット、および 2 つのルールが含まれます。  
    - **rdp ルール**します。 このルールは RDP トラフィックを許可する、 *フロント エンド* サブネットです。
    - **web ルール**します。 このルールは HTTP トラフィックを許可する、 *フロント エンド* サブネットです。
- **NSG バックエンド**します。 バックエンドに NSG が適用される、 *バックエンド* サブネット、2 つのルールを含める。 
    - **sql ルール**します。 このルールでは、SQL トラフィックからのみ、 *フロント エンド* サブネットです。
    - **web ルール**します。 このルールは、すべてのインターネット バインドからのトラフィックを拒否、 *バックエンド* サブネットです。

これらの規則の組み合わせによって、DMZ のようなシナリオが作成されます。このシナリオではバックエンドのサブネットはフロントエンドのサブネットから SQL トラフィックの受信トラフィックのみを受信でき、インターネットへはアクセスできません。一方、フロントエンドのサブネットはインターネットと通信でき、受信 HTTP 要求のみを受信します。
 
