<properties
     pageTitle="Azure ポータルを使用した IoT Hub の管理 | Microsoft Azure"
     description="Azure ポータルで Azure IoT Hub を作成して管理する方法の概要"
     services="iot-hub"
     documentationCenter=""
     authors="nasing"
     manager="timlt"
     editor=""/>

<tags
     ms.service="iot-hub"
     ms.devlang="na"
     ms.topic="article"
     ms.tgt_pltfrm="na"
     ms.workload="na"
     ms.date="10/19/2015"
     ms.author="nasing"/>


# Azure ポータルを使用した IoT Hub の管理

## はじめに

この記事では、Azure ポータルを介して Azure IoT Hub を使用する方法、IoT Hub を検索する方法、および IoT Hub を作成して管理する方法について説明します。

## IoT Hub の検索場所

IoT Hub を検索できる多くの場所があります。

1. **+ 新規**: **Azure IoT Hub** は IoT サービスであり、他のサービスと同じように、**[+ 新規]** にある **[モノのインターネット]** カテゴリで見つけることができます。

2. また、IoT Hub には、**[モノのインターネット]** のヒーロー サービスである Marketplace からアクセスできます。

## IoT Hub の作成

IoT Hub の作成には、次の方法を使用できます。

1. **[+ 新規]** オプションを使用して IoT Hub を作成すると、次のスクリーン ショットに示すブレードが表示されます。 この方法および Marketplace を使用して IoT Hub を作成する手順は同じです。

2. Marketplace を使用した IoT Hub の作成: **[作成]** をクリックすると、ブレードが開きます。これは、**[+ 新規]** の場合と同じものです。 この後のセクションに記載されているいくつかの手順は、IoT Hub の作成に関連しています。

### IoT Hub の名前の選択

IoT Hub を作成するには、ハブに名前を付ける必要があります。 この名前はハブ全体で一意にする必要があります。 バックエンドではハブの重複は許可されないため、このハブの名前はできるだけ一意にすることをお勧めします。

### 価格レベルの選択

**Free**、**Standard 1**、**Standard 2** の 3 つのレベルから選択することができます。 Free レベルでは、IoT Hub に接続できるデバイスは 10 個のみです。

**S1 (低頻度)**: IoT Hub S1 (低頻度) エディションは、デバイスごとの生成データが比較的少量であるデバイスが多数存在する IoT ソリューション用に設計されています。 S1 (低頻度) エディションの各ユニットで許可される接続は最大 500 デバイスまで、または接続されているすべてのデバイス全体で 1 日あたり最大 50,000 メッセージまでとなります。

**S2 (高頻度)**: IoT Hub S2 (高頻度) エディションは、デバイスが大量のデータを生成する IoT ソリューション用に設計されています。 S2 (高頻度) エディションの各ユニットで許可される接続は最大 500 デバイスまで、または接続されているすべてのデバイス間で 1 日あたり最大 150 万メッセージまでとなります。

![][4]
> [AZURE.NOTE] IoT Hub で許可される無料ハブはサブスクリプションごとに 1 つのみです。

### IoT Hub ユニット

1 つの IoT Hub ユニットには 500 のデバイスが含まれているため、IoT ユニットの数を選択することは、このハブでサポートされるデバイスの合計数がそのユニットの数に 500 を掛けた数になることを意味します。 たとえば、IoT Hub で 1,000 のデバイスをサポートする場合、2 ユニットを選択します。

### デバイスとクラウド間のパーティションおよびリソース グループ

IoT Hub のパーティションの数を変更することができます。 既定のパーティションは 4 に設定されますが、ドロップダウン リストからパーティションの別の数を選択できます。

リソース グループについては、明示的に空のリソース グループを作成する必要はありません。 新しいリソースを作成するときは、新しいリソース グループを作成することも、既存のリソース グループを使用することもできます。

![][5]

### サブスクリプションの選択

Azure IoT Hub は、ユーザー アカウントがリンクされているサブスクリプションのリストを自動的に表示します。 IoT Hub をそのサブスクリプションに関連付ける場合は、ここでオプションのいずれかを選択できます。

### 場所の選択

場所のオプションでは、IoT Hub が提供されるリージョンのリストが提供されます。 このプレビュー リリースの場合、Iot Hub は米国東部、北ヨーロッパ、東アジアの 3 つの場所でのみ提供されます。

### IoT Hub の作成

前の手順がすべて完了したら、IoT Hub を作成することができます。 **[作成]** をクリックし、特定のオプションでこの IoT Hub を作成するバックエンド プロセスを開始して、指定した場所にデプロイします。

適切な場所のサーバーでのバックエンド デプロイには時間がかかるため、IoT Hub の作成には数分かかる場合があることに注意してください。

## IoT Hub の設定変更

IoT Hub を作成したら、既存の設定を変更できます。 IoT Hub の名前をクリックして、設定ページを開きます。

![][8]

**共有アクセス ポリシー**: これらは、IoT Hub に接続するデバイスとサービスのアクセス許可を定義するポリシーです。 これらのポリシーには、**[設定]** にある **[共有アクセス ポリシー]** をクリックすることでアクセスできます。 このブレードでは、既存のポリシーを変更したり、新しいポリシーを追加したりすることができます。

### 新しいポリシーの作成

- **[追加]** をクリックしてブレードを開きます。このブレードで、次の図に示すように、新しいポリシーの名前と、このポリシーに関連付けるアクセス許可を入力できます。

    これらの共有ポリシーに関連付けることができるアクセス許可はいくつかあります。 最初の 2 つのポリシーの **[レジストリの読み取り]** と **[レジストリの書き込み]** は、デバイス ID ストアまたは ID レジストリに対する読み取りと書き込みのアクセス権を付与するためのものです。 書き込みオプションを選択すると、読み取りオプションが自動的に選択されることに注意してください。

    サービス接続ポリシーでは IoT Hub に接続するサービスのコンシューマー グループにアクセス許可を与え、デバイス接続では IoT Hub のデバイス側のアクセス許可を与えます。

- **[作成]** をクリックして、この新しく作成されたポリシーを既存のリストに追加します。

![][10]

## メッセージング

**[メッセージング]** ポリシーをクリックして、変更対象の IoT Hub のメッセージング プロパティのリストを表示します。 変更またはコピーできるプロパティには、**クラウドからデバイス**および**デバイスからクラウド**という 2 つの主な種類があります。

- **クラウドからデバイス**の設定: これには、メッセージに関する **[クラウドからデバイスの TTL]** (有効期限) および **[保存期間]** という 2 つのサブ設定があります。 IoT Hub の最初の作成時に、これらの設定の両方が既定値の 1 時間で作成されます。 ただし、スライダーを使用するか、値を入力するだけでこれらをカスタマイズできます。

- **デバイスからクラウド**の設定: これにはいくつかのサブ設定があります。その一部は IoT Hub の作成時に名前が付けられるか、割り当てられ、カスタマイズ可能な他のサブ設定にのみコピーできます。 これらの設定の一覧を次のセクションに示します。

**パーティション**: この値は IoT Hub の作成時に設定され、この設定で変更できます。

**イベント ハブと互換性のある名前とエンドポイント**: IoT Hub の作成時に、Event Hub が内部的に作成され、ユーザーは特定の状況ではアクセスが必要な場合があります。 このイベント ハブの名前とエンドポイントはカスタマイズできませんが、**[コピー]** をクリックすることで使用可能です。

**保存期間**: 既定で 1 日に設定されますが、ドロップダウン リストを使用して、他の値にカスタマイズできます。 クラウドからデバイスの設定と同じように、デバイスからクラウドのこの値は時間単位ではなく、日単位であることに注意してください。

**コンシューマー グループ**: コンシューマー グループは、他のアプリケーションやサービスを IoT Hub に接続する特定の方法でデータをプルするために使用できる他のメッセージング システムに似た設定です。 すべての IoT Hub は、既定のコンシューマー グループを使用して作成されます。 ただし、コンシューマー グループを IoT Hub に追加したり、削除したりすることができます。
> [AZURE.NOTE] 既定のコンシューマー グループを編集したり削除したりすることはできません。

![][11]

## 価格とスケール

既存の IoT Hub の価格は **[価格]** 設定を介して変更できますが、次の例外があります。

- 現在の実装では、無料の SKU の IoT Hub のレベルを、有料の SKU のいずれかに変更することはできません。その逆も同じです。
- サブスクリプションで許可される Free レベルの IoT Hub は 1 つのみです。

![][12]

高レベル (S2) から低レベル (S1) への移行は、当該日に送信されるメッセージの数が競合していない場合にのみ許可されます。 たとえば、1 日あたりのメッセージの数が 50,000 を超える場合、IoT Hub のレベルを S2 から S1 に変更することはできません。

## IoT Hub の削除

削除する IoT Hub は、**[参照]** をクリックしてから、削除対象の適切なハブを選択することで参照できます。 ハブ名の下の **[削除]** をクリックすると、ハブが削除されます。

## 次のステップ

Azure IoT Hub についてさらに学習するには、次のリンクを使用してください。

- [IoT Hub (チュートリアル) ][lnk-get-started]
- [Azure の IoT Hub とは何ですか。[]][]



[4]: ./media/iot-hub-manage-through-portal/create-iothub.png 
[5]: ./media/iot-hub-manage-through-portal/location1.png 
[8]: ./media/iot-hub-manage-through-portal/portal-settings.png 
[10]: ./media/iot-hub-manage-through-portal/shared-access-policies.png 
[11]: ./media/iot-hub-manage-through-portal/messaging-settings.png 
[12]: ./media/iot-hub-manage-through-portal/pricing-error.png 
[lnk-get-started]: iot-hub-csharp-csharp-getstarted.md 
[what is azure iot hub?]: iot-hub-what-is-iot-hub.md 

