<properties 
   pageTitle="StorSimple ストレージ アカウントの管理 | Microsoft Azure"
   description="StorSimple Manager の [構成] ページを使用してストレージ アカウントを追加、編集、または削除する方法や、ストレージ アカウントのセキュリティ キーのローテーションを行う方法について説明します。"
   services="storsimple"
   documentationCenter="NA"
   authors="SharS"
   manager="carolz"
   editor="" />
<tags 
   ms.service="storsimple"
   ms.devlang="NA"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="TBD"
   ms.date="12/01/2015"
   ms.author="v-sharos" />

# StorSimple Manager サービスを使用してストレージ アカウントを管理する

## 概要

 **構成** ページには、StorSimple Manager サービスで作成できるすべてのグローバル サービス パラメーターが表示されます。 これらのパラメーターはこのサービスに接続されているすべてのデバイスに適用でき、次のものが含まれます。

- ストレージ アカウント 
- 帯域幅テンプレート 
- アクセス制御レコード 

このチュートリアルでは、使用する方法について説明します、 **構成** ] ページを追加、編集、またはストレージ アカウントを削除するか、ストレージ アカウントのセキュリティ キーのローテーションします。

 ![[構成] ページ](./media/storsimple-manage-storage-accounts/HCS_ConfigureService.png)  

ストレージ アカウントには、クラウド サービス プロバイダーを使用してストレージ アカウントにアクセスするためにデバイスで使用される資格情報が含まれます。 Microsoft Azure ストレージ アカウントの場合、これらはアカウント名やプライマリ アクセス キーなどの資格情報です。 

 **構成** ページで、課金のサブスクリプションは、次の情報を含む表形式で表示用に作成されたすべてのストレージ アカウント。

- **名前** – 作成時に、アカウントに割り当てられた一意の名前。
- **SSL を有効に** -かどうか、SSL が有効で、デバイスからクラウドへの通信がセキュリティで保護されたチャネル経由します。
- **使用される** – ストレージ アカウントを使用して、ボリュームの数。

実行できるストレージ アカウントに関連する最も一般的なタスク、 **構成** ページします。

- ストレージ アカウントの追加 
- ストレージ アカウントの編集 
- ストレージ アカウントの削除 
- ストレージ アカウントのキー ローテーション 

## ストレージ アカウントの種類

StorSimple デバイスで使用できるストレージ アカウントには、次の 3 つの種類があります。

- **自動生成されたストレージ アカウント** – この種類のストレージ アカウントのサービスが最初に作成したときに自動的に生成名前のとおりです。 このストレージ アカウントの作成方法の詳細については、次を参照してください。 [手順 1: 新しいサービスを作成する](storsimple-deployment-walkthrough-u1.md#step-1-create-a-new-service) で [オンプレミス StorSimple デバイスのデプロイ](storsimple-deployment-walkthrough.md)します。 
- **サービス サブスクリプションのストレージ アカウント** – これらは、サービスのと同じサブスクリプションに関連付けられている Azure ストレージ アカウント。 アカウントが作成されるこれらの記憶域に関する詳細については、次を参照してください。 [Azure ストレージ アカウントについて](../storage/storage-create-storage-account.md)します。 
- **サービス サブスクリプションの外部ストレージ アカウント** – Azure ストレージ アカウント、サービスに関連付けられているし、サービスの作成前にいた可能性のある行わないです。

## ストレージ アカウントの追加

ストレージ アカウントを追加するには、一意の表示名と、(指定されたクラウド サービス プロバイダーによって) ストレージ アカウントにリンクされているアクセス資格情報を指定します。 SSL (Secure Sockets Layer) モードを有効にして、デバイスとクラウド間のネットワーク通信用にセキュリティで保護されたチャネルを作成することもできます。

特定のクラウド サービス プロバイダーに対して複数のアカウントを作成できます。 ただし、ストレージ アカウントを作成した後はクラウド サービス プロバイダーを変更できないことに注意してください。

ストレージ アカウントの保存中、サービスは、クラウド サービス プロバイダーとの通信を試みます。 この時点で、資格情報と指定したアクセス マテリアルが認証されます。 ストレージ アカウントは、認証が成功した場合にのみ作成されます。 認証に失敗した場合は、適切なエラー メッセージが表示されます。

> [AZURE.NOTE] ストレージ アカウントを追加する手順を使用している StorSimple のソフトウェアのバージョンによって異なります。 使用する StorSimple のバージョンの手順に必ず従ってください。

[AZURE.INCLUDE [add-a-storage-account-update1](../../includes/storsimple-configure-new-storage-account-u1.md)]

[AZURE.INCLUDE [add-a-storage-account](../../includes/storsimple-configure-new-storage-account.md)]

## ストレージ アカウントの編集

ボリューム コンテナーで使用されるストレージ アカウントを編集できます。 現在使用中のストレージ アカウントを編集する場合、変更できるフィールドは、ストレージ アカウントのアクセス キーに限られます。 新しいストレージ アクセス キーを指定し、更新された設定を保存できます。

#### ストレージ アカウントを編集するには

1. サービスのランディング ページで、サービスを選択、サービス名をダブルクリックし、をクリックして **構成**します。

2. クリックして **ストレージ アカウントの追加/編集**します。

3.  **ストレージ アカウントの追加/編集** ] ダイアログ ボックス。

  1. ドロップダウン リストで **ストレージ アカウント**, 、既存のアカウントを変更するかを選択します。 これには、サービスを最初に作成したときに自動的に生成されたストレージ アカウントも含まれます。
  2. かどうかは、必要に応じて変更できます、 **SSL モードを有効にする** 選択します。
  3. ストレージ アカウント アクセス キーのローテーションを行うことを選択できます。 参照してください [ストレージ アカウントのキー ローテーション](#key-rotation-of-storage-accounts) キー ローテーションを実行する方法についての詳細。
  4. チェック アイコンをクリックして ![チェック マーク アイコン](./media/storsimple-manage-storage-accounts/HCS_CheckIcon.png) 、設定を保存します。 設定が更新される、 **構成** ページです。 クリックして **保存** 新しく更新された設定を保存します。

     ![ストレージ アカウントの編集](./media/storsimple-manage-storage-accounts/HCs_AddEditStorageAccount.png)
  
## ストレージ アカウントの削除

> [AZURE.IMPORTANT] これは、ボリューム コンテナーでは使用されない場合にのみ、ストレージ アカウントを削除できます。 ストレージ アカウントがボリューム コンテナーで使用されている場合は、最初にボリューム コンテナーを削除し、次に関連するストレージ アカウントを削除します。

#### ストレージ アカウントを削除するには

1. StorSimple Manager サービスのランディング ページで、サービスを選択、サービス名をダブルクリックし、クリックして **構成**します。

2. ストレージ アカウントの表形式のリストで、削除するアカウントにマウス ポインターを合わせます。

3. 削除アイコン (**x**) そのストレージ アカウントの右端の列に表示されます。 クリックして、 **x** 資格情報を削除するにはアイコン。

4. 確認のメッセージが表示されたら、クリックして **はい** 削除を続行します。 表形式のリストが更新され、変更が反映されます。

## ストレージ アカウントのキー ローテーション

セキュリティ上の理由から、データ センターではキー ローテーションが必要になることがよくあります。 

> [AZURE.NOTE] 次のキー ローテーション情報と交代手順は、Microsoft Azure ストレージ アカウントのみに適用されます。 別のクラウド サービス プロバイダーを使用している場合は、そのプロバイダーのダッシュ ボードからストレージ アカウント キーを管理できます。
 
ストレージ アカウントは、各 Microsoft Azure サブスクリプションにつき 1 つまたは複数作成できます。 これらのアカウントへのアクセスは、各ストレージ アカウントのサブスクリプションとアクセス キーによって制御されます。 

ストレージ アカウントを作成するときに、Microsoft Azure によって 2 つの 512 ビット ストレージ アクセス キーが生成されます。これらは、ストレージ アカウントにアクセスするときに認証の目的で使用されます。 2 つのストレージ アクセス キーがあると、ストレージ サービスまたはそのサービスへのアクセスを中断することなくキーを再生成できます。 現在使用されているキーは、 *プライマリ* キーと、バックアップ キーと呼びます、 *セカンダリ* キー。 Microsoft Azure StorSimple デバイスがクラウド ストレージ サービス プロバイダーにアクセスするときは、これら 2 つのキーのどちらかを指定する必要があります。

## キーのローテーションとは

通常、アプリケーションは、キーの 1 つだけを使用してデータにアクセスします。 一定の期間が経過した後、アプリケーションで使用するキーを 2 番目のキーに切り替えることができます。 アプリケーションを 2 番目のキーに切り替えた後、最初のキーを廃棄して新しいキーを生成できます。 2 つのキーをこの方法で使用することにより、アプリケーションはダウンタイムなしでデータにアクセスできます。

ストレージ アカウント キーは、常に、暗号化された形式でサービスに格納されます。 ただし、これらは、StorSimple Manager サービスを使用してリセットできます。 このサービスは、Storage サービスで作成されたアカウントや、StorSimple Manager サービスが最初に作成されたときに生成された既定のストレージ アカウントなど、同じサブスクリプション内のすべてのストレージ アカウントに対してプライマリ キーとセカンダリ キーを取得できます。 StorSimple Manager サービスは常に、Azure クラシック ポータルからこれらのキーを取得し、暗号化して格納します。

## ローテーションのワークフロー

Microsoft Azure 管理者は、(Microsoft Azure Storage サービス経由で) ストレージ アカウントに直接アクセスすることによって、プライマリ キーまたはセカンダリ キーを再生成または変更できます。 StorSimple Manager サービスは、この変更を自動的に認識しません。

StorSimple Manager サービスにこの変更を認識させるには、StorSimple Manager サービスにアクセスし、ストレージ アカウントにアクセスし、(変更されたキーに応じて) プライマリ キーまたはセカンダリ キーを同期する必要があります。 その後、サービスは最新のキーを取得し、キーを暗号化して、デバイスに送信します。

#### サービスと同じサブスクリプション内のストレージ アカウントのキーを同期するには (Azure のみ)

1.  **サービス** ] ページで、をクリックして、 **構成** ] タブをクリックします。

2. クリックして **ストレージ アカウントの追加/編集**します。

3. ダイアログ ボックスで、次の操作を行います。

  1. キーを同期するストレージ アカウントを選択します。 ストレージ アカウント キーは表示されるときに暗号化されます。
  2. StorSimple Manager サービスで、Microsoft Azure Storage サービスで以前に変更されたキーを更新する必要があります。 プライマリ アクセス キーを (再生成) に変更された場合は、クリックして **プライマリ キーの同期**します。 セカンダリ キーが変更された場合はクリックして **セカンダリ キーの同期**します。

    ![synchronize keys](./media/storsimple-manage-storage-accounts/HCS_KeyRotationStorageAccountSameSubscriptionAsService.png)

#### サービス サブスクリプションの外部のストレージ アカウントのキーを同期するには

1.  **サービス** ] ページで、をクリックして、 **構成** ] タブをクリックします。

2. クリックして **ストレージ アカウントの追加/編集**します。

3. ダイアログ ボックスで、次の操作を行います。

  1. アクセス キーを更新するストレージ アカウントを選択します。
  2. ストレージ アクセス キーは、StorSimple Manager サービスで更新する必要があります。 この場合は、ストレージ アクセス キーを見ることができます。 新しいキーを入力、 **ストレージ アカウント アクセス キー**ボックス。 
  3. 変更を保存します。 ストレージ アカウント アクセス キーが更新されます。

## 次のステップ

- 詳細について [StorSimple のセキュリティ](storsimple-security.md)します。
- 詳細について [StorSimple Manager サービスを使用して、StorSimple デバイスを管理する](storsimple-manager-service-administration.md)です。
