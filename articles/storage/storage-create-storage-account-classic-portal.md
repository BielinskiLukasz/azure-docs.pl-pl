<properties
    pageTitle="ストレージ アカウントを作成、管理、または削除する方法 | Microsoft Azure"
    description="Azure クラシック ポータルでストレージ アカウントを作成、管理、削除する方法について説明します。"
    services="storage"
    documentationCenter=""
    authors="robinsh"
    manager="carmonm"
    editor=""/>

<tags
    ms.service="storage"
    ms.workload="storage"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="get-started-article"
    ms.date="12/04/2015" 
    ms.author="robinsh"/>


# Azure ストレージ アカウントについて

[AZURE.INCLUDE [storage-selector-portal-create-storage-account](../../includes/storage-selector-portal-create-storage-account.md)]

## 概要

Azure ストレージ アカウントを使用すると、Azure Storage の Azure BLOB サービス、Queue サービス、Table サービス、ファイル サービスにアクセスできます。 ストレージ アカウントは、Azure Storage のデータ オブジェクトに対して一意の名前空間を提供します。 既定では、アカウントのデータはアカウント所有者だけが使用できます。

ストレージ アカウントには、次の 2 種類があります。

- Standard ストレージ アカウント。Blob、Table、Queue、File Storage が含まれています。 
- Premium ストレージ アカウント。現在、Azure 仮想マシン ディスクでのみサポートされています。 参照してください [Premium Storage: Azure の仮想マシン ワークロード向けの高パフォーマンス ストレージ](storage-premium-storage-preview-portal.md) Premium Storage の詳細についてです。

## ストレージ アカウントの課金

Azure Storage は、ストレージ アカウントに基づいた使用量によって課金されます。 ストレージのコストは、ストレージ容量、レプリケーション スキーム、ストレージ トランザクション、送信データ転送という 4 つの要因に基づいています。

- ストレージ容量とは、データの保存に使用するためにストレージ アカウントに割り当てられた容量を指します。 単純にデータを保存する場合の料金は、保存するデータ量とレプリケーション方法によって決まります。
- レプリケーションによって、1 回に保持するデータのコピー数や、データの場所が決定されます。
- トランザクションには、Azure Storage に対するすべての読み取り操作と書き込み操作が含まれます。
- 送信データ転送とは、Azure リージョンから転送されたデータを意味します。 他のリージョンで動作しているアプリケーションがストレージ アカウント内のデータにアクセスした場合、そのアプリケーションがクラウド サービスか、その他の種類のアプリケーションかに関係なく、送信データ転送として課金されます (Azure サービスでは、同じデータ センター内のデータとサービスをグループ化して、送信データ転送処理とそれに伴う料金を削減または不要にする手順が用意されています)。  

 [Azure の料金](http://azure.microsoft.com/pricing/details/#storage) ページは、記憶域の容量、レプリケーション、およびトランザクションの料金の詳細を提供します。  [データ転送の料金詳細](http://azure.microsoft.com/pricing/details/data-transfers/) ページは、送信データ転送の料金の詳細を提供します。

ストレージ アカウントの容量とパフォーマンスのターゲットに関する詳細については、「 [Azure Storage のスケーラビリティおよびパフォーマンスのターゲット](http://msdn.microsoft.com/library/azure/dn249410.aspx)します。

> [AZURE.NOTE] Azure の仮想マシンを作成するときにストレージ アカウントは、自動的に作成、デプロイ場所がない場合は既にストレージ アカウントをその場所に。 このため、使用する仮想マシンのディスク用にストレージ アカウントを作成する場合、必ずしも以下の手順に従う必要はありません。 ストレージ アカウント名は仮想マシン名を基にして付けられます。 参照してください、 [Azure Virtual Machines のドキュメント](http://azure.microsoft.com/documentation/services/virtual-machines/) 詳細です。

## ストレージ アカウントの作成

1. サインイン、 [Azure クラシック ポータル](https://manage.windowsazure.com)します。

2. クリックして **新規** 、ページの下部バーに表示します。 選択 **Data Services** | **記憶域**, 、クリックして **簡易作成**します。

    ![NewStorageAccount](./media/storage-create-storage-account-classic-portal/storage_NewStorageAccount.png)

3.  **URL**, 、ストレージ アカウントの名前を入力します。

    > [AZURE.NOTE] ストレージ アカウント名は 3 ~ 24 文字にする必要があり、数字と小文字のみを含めることができます。
    >  
    > ストレージ アカウント名は Azure 内で一意である必要があります。 選択したストレージ アカウント名が既に使用されているかどうかが、Azure クラシック ポータルによって示されます。

    参照してください [ストレージ アカウント エンドポイント](#storage-account-endpoints) 方法の詳細について、ストレージ アカウント名が使用される後述する Azure ストレージに、オブジェクトのアドレスします。

4.  **場所/アフィニティ グループ**, 、近くまたは顧客には、ストレージ アカウントの場所を選択します。 Azure 仮想マシンやクラウド サービスなど、別の Azure サービスがストレージ アカウントのデータにアクセスする場合、一覧のアフィニティ グループから 1 つを選択して、同じデータ センター内のストレージ アカウントと、パフォーマンス向上とコスト削減のために使用している Azure サービスとをグループ化することができます。

    ストレージ アカウントを作成するときにアフィニティ グループを選択する必要があることに注意してください。 既存のアカウントをアフィニティ グループに移動することはできません。 アフィニティ グループの詳細については、次を参照してください。 [アフィニティ グループによるサービス コロケーション](#service-co-location-with-an-affinity-group) 以下です。

    >[AZURE.IMPORTANT] 各場所は、サブスクリプションの利用できるかを確認するを呼び出すことができます、 [リスト プロバイダー](https://msdn.microsoft.com/library/azure/dn790524.aspx) 操作します。 PowerShell の呼び出しからプロバイダーを一覧に [Get-azurelocation](https://msdn.microsoft.com/library/azure/dn757693.aspx)します。 .NET では、使用して、 [リスト](https://msdn.microsoft.com/library/azure/microsoft.azure.management.resources.provideroperationsextensions.list.aspx) ProviderOperationsExtensions クラスのメソッドです。
    >
    >さらを参照してください [Azure のリージョン](https://azure.microsoft.com/regions/#services) 詳細については、どのリージョンでどのようなサービスは使用します。


5. 複数の Azure サブスクリプションがある場合、 **サブスクリプション** フィールドが表示されます。  **サブスクリプション**, 、ストレージ アカウントを使用する Azure のサブスクリプションを入力します。

6.  **レプリケーション**, 、必要なストレージ アカウントに対するレプリケーションのレベルを選択します。 推奨されるレプリケーションのオプションは geo 冗長レプリケーションです。これは、最大限のデータ耐久性を提供します。 Azure Storage のレプリケーション オプションの詳細については、次を参照してください。 [Azure ストレージのレプリケーション](storage-redundancy.md)します。

6. クリックして **ストレージ アカウントの作成**します。

    ストレージ アカウントを作成するには数分かかる場合があります。 状態を確認するには、Azure クラシック ポータルの下部にある通知を監視します。 ストレージ アカウントが作成されていると、新しいストレージ アカウントは **オンライン** ステータスは使用できます。

![StoragePage](./media/storage-create-storage-account-classic-portal/Storage_StoragePage.png)


### ストレージ アカウント エンドポイント

Azure Storage に格納するすべてのオブジェクトには一意の URL アドレスが設定されています。 ストレージ アカウント名は、そのアドレスのサブドメインになります。 フォームの各サービスに固有では、サブドメインとドメイン名の組み合わせ、 *エンドポイント* 、ストレージ アカウント用です。

たとえば、ストレージ アカウントの名前は *mystorageaccount*, 、ストレージ アカウントの既定のエンドポイントは。

- Blob サービス: http://*mystorageaccount*. >.blob.core.windows.net

- テーブル サービス: http://*mystorageaccount*. table.core.windows.net

- キュー サービス: http://*mystorageaccount*. queue.core.windows.net

- ファイル サービス: http://*mystorageaccount*. *.file.core.windows.net

記憶域ダッシュ ボードに、ストレージ アカウントのエンドポイントを表示できます、 [Azure Classic Portal](manage.windowsazure.com) アカウントが作成された後です。

ストレージ アカウント内のオブジェクトにアクセスするための URL は、ストレージ アカウント内のオブジェクトの場所をエンドポイントに追加して作成します。 たとえば、blob アドレスはこの形式がある: http://*mystorageaccount*.blob.core.windows.net/*mycontainer*/*myblob*します。

また、カスタム ドメイン名もストレージ アカウントを使用するように構成することができます。 参照してください [Azure ストレージ アカウントに blob データのカスタム ドメイン名を構成する](storage-custom-domain-name.md) 詳細です。

### Azure ストレージと他のサービスを併置するためのアフィニティ グループ

 *アフィニティ グループ* Azure ストレージ アカウントを使用して、Azure サービスと Vm の地理的なグループです。 アフィニティ グループは、コンピューティング ワークロードを同じデータ センター内または対象ユーザーの近くに配置することにより、サービス パフォーマンスを向上させることができます。 また、同じアフィニティ グループに属している別のサービスがストレージ アカウント内のデータにアクセスする場合には、課金されません。

> [AZURE.NOTE]  アフィニティ グループを作成するには、開く、 <b>設定</b> の領域、 [Azure Classic Portal](manage.windowsazure.com), 、] をクリックして <b>アフィニティ グループ</b>, 、次に、 <b>アフィニティ グループを追加</b> または <b>追加</b> ] ボタンをクリックします。 また、Azure サービス管理 API を使用してアフィニティ グループを作成および管理することもできます。 詳細については、「<a href="http://msdn.microsoft.com/library/azure/ee460798.aspx">アフィニティ グループに対する操作</a>」をご覧ください

## ストレージ アクセス キーの表示、コピーおよび再生成

ストレージ アカウントを作成するときに、Azure によって 2 つの 512 ビット ストレージ アクセス キーが生成されます。これらは、ストレージ アカウントにアクセスするときに認証の目的で使用されます。 Azure によって 2 つのストレージ アクセス キーが提供される結果、ストレージ サービスやサービスへのアクセスを中断することなく、これらのキーを再生成できます。

> [AZURE.NOTE] ストレージ アクセス キーを他の人と共有しないことをお勧めします。 アクセス キーを入力しないでストレージ リソースへのアクセスを許可するように使用することができます、 *共有アクセス署名*します。 Shared Access Signature を使用すると、指定した期間、指定した権限で、アカウント内のリソースにアクセスできるようになります。 参照してください、 [共有アクセス署名のチュートリアル](storage-dotnet-shared-access-signature-part-1.md) の詳細。

 [Azure Classic Portal](manage.windowsazure.com), を使用して **キーの管理** ダッシュ ボードまたは **ストレージ** ページを表示、コピー、および Blob、テーブル、およびキュー サービスにアクセスするために使用するストレージ アクセス キーを再生成します。

### ストレージ アクセス キーのコピー  

使用する **キーの管理** 接続文字列で使用するストレージ アクセス キーをコピーします。 接続文字列には、ストレージ アカウント名および認証で使用するキーが必要です。 Azure ストレージ サービスにアクセスする接続文字列を構成する方法の詳細については、次を参照してください。 [用の Azure 構成の接続文字列](http://msdn.microsoft.com/library/azure/ee758697.aspx)します。

1.  [Azure Classic Portal](manage.windowsazure.com), 、] をクリックして **ストレージ**, 、ダッシュ ボードをストレージ アカウントの名前をクリックします。

2. クリックして **キーの管理**します。

    **アクセス キーの管理** が開きます。

    ![Managekeys](./media/storage-create-storage-account-classic-portal/Storage_ManageKeys.png)


3. ストレージ アクセス キーをコピーするには、キー文字列を選択します。 右クリックし、クリック **コピー**します。

### ストレージ アクセス キーの再生成
ストレージ接続のセキュリティを維持するために、ストレージ アカウントのアクセス キーは定期的に変更する必要があります。 アクセス キーは 2 つ割り当てられるため、一方のアクセス キーでストレージ アカウントに接続したまま、もう一方のアクセス キーを再生成できます。

> [AZURE.WARNING] アクセス キーを再生成は、仮想マシン、メディア サービス、およびストレージ アカウントに依存するすべてのアプリケーションに影響します。 アクセス キーを使用してストレージ アカウントにアクセスするすべてのクライアントを更新し、新しいキーが使用されるようにする必要があります。

**仮想マシン** -ストレージ アカウントに制限されているすべてのバーチャル マシンが含まれている場合は、アクセス キーを再生成した後は、すべての仮想マシンを再展開する必要があります。 再デプロイメントを回避するには、アクセス キーを生成する前に仮想マシンをシャットダウンします。

**メディア サービス** -ストレージ アカウントに依存するメディア サービスがあれば、する必要があります再同期アクセス キーをメディア サービスでキーを再生成した後です。

**アプリケーション** -web アプリケーションやストレージ アカウントを使用するクラウド サービスがある場合は、失われます接続キーを再生成する場合、キーを切り替えない限り、します。 キーを切り替える手順は次のとおりです。

1. ストレージ アカウントのセカンダリ アクセス キーを参照するようにアプリケーション コードの接続文字列を更新します。

2. ストレージ アカウントのプライマリ アクセス キーを再生成します。  [Azure Classic Portal](manage.windowsazure.com), 、ダッシュ ボードから、または **構成** ] ページで [ **キーの管理**します。 をクリックして **を再生成** クリックしてプライマリ アクセス キーの下 **はい** を新しいキーを生成することを確認します。

3. 新しいプライマリ アクセス キーを参照するようにアプリケーション コードの接続文字列を更新します。

4. セカンダリ アクセス キーを再生成します。

## ストレージ アカウントの削除

不要になったを使用してストレージ アカウントを削除するには使用 **削除** ダッシュ ボードまたは **構成** ページです。 **削除** 、アカウントの blob、テーブル、およびキューのすべてを含めて、ストレージ アカウントを削除します。

> [AZURE.WARNING] 削除したストレージ アカウントを復元または削除する前に含まれているコンテンツのいずれかを取得することはできません。 アカウントを削除する前に、保存する必要のあるデータを必ずバックアップしてください。 これはアカウントのどのリソースにも当てはまります。BLOB、テーブル、キュー、またはファイルを削除すると、完全に削除されます。
>
> ストレージ アカウントに Azure 仮想マシンの VHD ファイルが含まれている場合、ストレージ アカウントを削除するには、これらの VHD ファイルを使用するイメージやディスクをすべて削除しておく必要があります。 最初に、実行中の場合は仮想マシンを停止してから削除します。 移動するディスクを削除する、 **ディスク** タブし、そこでディスクを削除します。 イメージを削除するに移動、 **イメージ** タブし、アカウントに格納されているイメージを削除します。

1.  [Azure Classic Portal](manage.windowsazure.com), 、クリックして **ストレージ**します。

2. ストレージ アカウント項目の名前以外の部分をクリックして、をクリックし、 **削除**します。

     または

    ダッシュ ボードを開き、をクリックし、ストレージ アカウントの名前をクリックして **削除**します。

3. をクリックして **はい** をストレージ アカウントを削除することを確認します。

## 次のステップ

- Azure Storage の詳細については、Azure Storage のドキュメントを参照してください。 [Azure.com](http://azure.microsoft.com/documentation/services/storage/)します。
- 参照してください、 [Azure ストレージ チーム ブログ](http://blogs.msdn.com/b/windowsazurestorage/)します。
- [AzCopy コマンド ライン ユーティリティを使ったデータの転送](storage-use-azcopy)
