    <properties
    pageTitle="Add a VM with artifacts to a DevTest Lab | Microsoft Azure"
    description="Create a new virtual machine with Artifacts in DevTest Lab."
    services="devtest-lab,virtual-machines"
    documentationCenter="na"
    authors="tomarcher"
    manager="douge"
    editor=""/>

<tags
    ms.service="devtest lab"
    ms.workload="na"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="11/01/2015"
    ms.author="tarcher"/>

# アーティファクトを含む VM の Azure DevTest ラボへの追加

## 概要

Azure の基本イメージ、またはラボにアップロードしたイメージから、DevTest ラボに仮想マシンを作成します。

DevTest ラボ *アーティファクト*を使用すると、VM の作成時に実行されるアクションを指定できます。 アーティファクトのアクションでは、Powershell や Bash コマンドの実行、ソフトウェアのインストールなどの手順を実行することができます。 アーティファクト *パラメーター*を使用すると、特定のシナリオのアーティファクトをカスタマイズできます。

ラボには、パブリック DevTest ラボ アーティファクト リポジトリのアーティファクトと、独自のアーティファクト リポジトリに作成または追加されたアーティファクトが含まれます。

この記事では、アーティファクトを使用する VM をラボに作成する方法を説明します。

## アーティファクトを含む VM の追加

1. サインイン、 [Azure プレビュー ポータル](http://portal.azure.com)します。

1. **[参照]** をタップし、一覧の **[DevTest ラボ]** をタップします。

1. ラボの一覧で、新しい VM を作成するラボをタップします。

1. ラボのブレードで、[タップ **+ ラボ VM** 次の図に示すようにします。  
    ![DevTest lab home blade](./media/devtest-lab-add-vm-with-artifacts/devtestlab-home-blade-add-vm.png)

1. **[ラボ VM]** ブレードで、**[ラボ VM 名]** ボックスに新しい仮想マシンの名前を入力します。

1. **[基本 / 必要な設定の構成]** をタップし、VM の基本イメージを選択します。

    ![Lab VM settings](./media/devtest-lab-add-vm-with-artifacts/devtestlab-add-lab-vm-blade-1.png)

1. 基本イメージを選択すると、**[ラボ VM]** ブレードが展開され、**[ユーザー名]** と **[パスワード]** の項目が表示されます。 **[ユーザー名]** に、仮想マシンの管理者特権を付与するユーザー名を入力します。

    ![Expanded Lab VM blade](./media/devtest-lab-add-vm-with-artifacts/devtestlab-add-lab-vm-blade-2.png)

1. **[パスワード]** にパスワードを入力します。

1. **[VM サイズ]** をタップし、作成する VM のプロセッサ コア、RAM サイズ、ハード ドライブ サイズを指定する定義済みの項目のいずれかを選択します。

1. **[アーティファクト]** をタップし、アーティファクトの一覧から基本イメージに追加するアーティファクトを選択して構成します。 **注:** DevTest ラボの経験がないかに進んで、成果物を構成したかどうか、 [を選択すると、アイテムの構成](#configuring-an-artifact) セクションを完了するとここで返します。

1. **[作成]** をタップして、指定した VM をラボに追加します。

1. ラボのブレードには VM の作成状況が表示されます。最初は **[作成中]**、VM が起動した後は **[実行中]** と表示されます。 VM に接続するには、VM をタップし、VM のブレードで **[接続]** をタップします。

## アーティファクトの選択と構成

VM の作成時に、**[ラボ VM]** ブレードで **[アーティファクト]** をタップしてアーティファクトを追加できます。 タップすると **[アーティファクトの追加]** ブレードが表示されます。このブレードでは、公式の DevTest ラボ リポジトリ (**Official Repo**) にある VM のアーティファクトやチーム リポジトリのアーティファクトを追加して構成できます。

![Add Artifacts blade](./media/devtest-lab-add-vm-with-artifacts/devtestlab-add-artifact-blade.png)

**VM へのアーティファクトの追加**

VM に追加する各アーティファクトについて、次の手順を実行します。

1. **[アーティファクトの追加]** ブレードで目的のアーティファクトをタップし、アーティファクトのパラメーターを指定できるブレードを表示します。

2. 必須のパラメーター値を入力します。必要に応じて、省略可能なパラメーターも入力します。

3. **[追加]** をタップしてアーティファクトを追加し、**[アーティファクトの追加]** ブレードに戻ります。

**アーティファクトの実行順序の変更**

VM にアーティファクトを追加して構成する際に、**[アーティファクトの追加]** ブレードの上部に現在のアーティファクト数を示すリンクが表示されます。 既定では、アーティファクトのアクションは VM に追加された順序で実行されます。 アーティファクトの実行順序を変更するには、一覧の中でアーティファクトをドラッグ アンド ドロップし、完了したら **[OK]** をタップするだけです。

**選択したアーティファクトの表示または変更**

選択したアーティファクトのパラメーターを表示または変更するには、次の手順を実行します。

1. **[アーティファクトの追加]** ブレードの上部で、VM に追加されたアーティファクトの数を示すリンクをタップします。

    ![](./media/devtest-lab-add-vm-with-artifacts/devtestlab-add-artifacts-blade-selected-artifacts.png)

1. 特定のアーティファクトのパラメーターを表示または編集するには、**[選択されたアーティファクト]** ブレードでアーティファクトをタップします。

1. 必要な変更を行ったら、**[OK]** をタップして **[アーティファクトの追加]** ブレードを閉じます。

1. **[OK]** をタップして、**[選択されたアーティファクト]** ブレードを閉じます。

1. **[OK]** をタップして、**[アーティファクトの追加]** ブレードを閉じます。

## 次のステップ

学習方法 [VM 用のカスタムの成果物を作成](devtest-lab-artifact-author.md)します。





