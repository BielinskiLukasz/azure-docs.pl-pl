<properties
   pageTitle="動的な負荷レポート"
   description="リソース バランサーに対する動的負荷レポートの概要"
   services="service-fabric"
   documentationCenter=".net"
   authors="GaugeField"
   manager="timlt"
   editor=""/>

<tags
   ms.service="Service-Fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="09/03/2015"
   ms.author="masnider"/>

# 動的な負荷レポートの概要

実行時に、ステートフルおよびステートレスなサービス オブジェクトは、ReportLoad メソッド (IStatefulServicePartition および IStatelessServicePartition インターフェイスのメンバー) を使用して負荷をレポートできます。 ノードに対するサービスの正確なパッキングが可能になり、ノード上でサービスに負荷が生じているときに、一元的な Service Fabric リソース バランサーによるリソース利用の正確な追跡が支援されるため、実行時の負荷値をレポートすることは重要です。

レプリカは、負荷をレポートする場合、最初にローカルで他の負荷レポートと共にバッチ処理して、リソース バランサーに 1 つのレポートを送信します。 このプロセスが使用されるのは、サービスから繰り返し、非常に高速に負荷をレポートした場合、実際には最後のレポートのみがリソース バランサーに送信されるためです。

Service Fabric リソース バランサーの実行時に、これは、すべてのノードから集計したすべての負荷情報を検査し、いくつかのチェックを実行します。 これらのチェックには、クラスター マニフェストで定義されているメトリックの分散しきい値とアクティビティしきい値が含まれます。 これらは、リソース バランサーの実行が必要なほどクラスターが不均衡になっているかどうか、容量が定義されているいずれかのメトリックに対して、特定のノードが容量を超えているかどうかを判断します。 容量を超過している場合、リソース バランサーは、最初に、容量を超過しているメトリックを共有する容量超過ノード上のサービスのみを検討します。 クラスターの不均衡の場合、リソース バランサーは、不均衡なメトリックをレポートしたサービスに対して、メトリックにより関連付けられるすべてのサービスを検討します。 Service Fabric リソース バランサーは、このような状況のいずれかが発生したと判断した場合、サービスの配置の改善を試みるシミュレーションを実行します。

サービスは、負荷が変化するたびに負荷をレポートする必要がありますが、自ら負荷レポートの集計またはスムージングを実行することはありません。

サービスが負荷をレポートする場合、負荷レポートは、サービスの作成時に定義された既定のプライマリ負荷値とセカンダリ負荷値を置き換え、Service Fabric リソース バランサーがそれ以降分散または配置の決定を下す必要がある場合に使用する新しい負荷値となります。



<!--Every topic should have next steps and links to the next logical set of content to keep the customer engaged-->
## 次のステップ

詳細については: [リソース バランサーのアーキテクチャ](service-fabric-resource-balancer-architecture.md)
 

