モバイル サービスのオフライン機能をサポートするために、`IMobileServiceSyncTable` インターフェイスを使用して、ローカル ストアにより `MobileServiceClient.SyncContext` を初期化しました。 この場合は、ローカル ストアは、SQLite データベースでした。

モバイル サービスに対する通常の CRUD 操作は、まるでアプリケーションが接続されているかのように機能しますが、すべての操作はローカル ストアに対して実施されます。

ローカル ストアをサーバーと同期しようとする場合は、`IMobileServiceSyncTable.PullAsync` と `MobileServiceClient.SyncContext.PushAsync` の各メソッドを使用しました。

*  変更内容をサーバーにプッシュするために、`IMobileServiceSyncContext.PushAsync()` を呼び出しました。 このメソッドは、すべてのテーブルに対して変更をプッシュするため、同期テーブルではなく `IMobileServicesSyncContext` のメンバーです。

    何らかの方法で (CUD 操作により) ローカルで変更されたレコードだけが、サーバー宛てに送信されます。
   
* サーバー上のテーブルからアプリケーションにデータをプルするために、`IMobileServiceSyncTable.PullAsync` を呼び出しました。

    プルは必ず、最初にプッシュを実行します。 これは、ローカル ストアのすべてのテーブルとリレーションシップの一貫性を確実に保つためです。

    クライアントに格納されているデータをフィルターするためのクエリを指定できる `PullAsync()` のオーバーロードもあります。 クエリが渡されない場合、`PullAsync()` は、対応するテーブル (またはクエリ) 内のすべての行をプルします。 アプリケーションと同期する必要がある変更のみをフィルター処理するクエリを渡すことができます。

* 増分同期を有効にするには、クエリ ID を `PullAsync()` に渡します。 クエリ ID は、最後のプル操作の結果の最後に更新されたタイムスタンプを格納するのに使用されます。 クエリ ID は、アプリ内の各論理クエリに対して一意の、わかりやすい文字列にする必要があります。 クエリにパラメーターがある場合は、同じパラメーター値をクエリ ID の一部に含める必要があります。

    たとえば、userid でフィルターする場合は、次のようにクエリ ID に含めます。

        await PullAsync("todoItems" + userid, syncTable.Where(u => u.UserId = userid));

    増分同期を無効にする場合は、`null` をクエリ ID として渡します。 この場合、`PullAsync` への呼び出しごとにすべてのレコードが再取得されるため、場合によっては非効率となります。

* モバイル サービス データベースでレコードが削除されたときに、デバイスのローカル ストアからレコードを削除するには、[論理的な削除] を有効にする必要があります。 有効にしない場合は、アプリで定期的に `IMobileServiceSyncTable.PurgeAsync()` を呼び出して、ローカル ストアを削除する必要があります。

