---
title: Ocena luk w zabezpieczeniach SQL — usługi Azure SQL Database | Dokumentacja firmy Microsoft
description: Dowiedz się, jak skonfigurować i oceny luk w zabezpieczeniach SQL w bazie danych SQL i interpretować raporty oceny.
services: sql-database
ms.service: sql-database
ms.subservice: security
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: ronitr
ms.author: ronitr
ms.reviewer: vanto, carlrab
manager: craigg
ms.date: 05/17/2018
ms.openlocfilehash: 6b0b613504ffc329af267fcaba13f1e27beee7b5
ms.sourcegitcommit: 51a1476c85ca518a6d8b4cc35aed7a76b33e130f
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/25/2018
ms.locfileid: "47164450"
---
# <a name="sql-vulnerability-assessment"></a>Ocena luk w zabezpieczeniach SQL

Ocena luk w zabezpieczeniach SQL jest łatwa do skonfigurowania usługi, która może odnajdywać, śledzenie i ułatwić korygowanie potencjalnych luk w bazie danych. Dzięki niemu aktywnie zwiększenia poziomu bezpieczeństwa bazy danych. 

Ocena luk w zabezpieczeniach jest częścią [SQL Zaawansowana ochrona przed zagrożeniami](sql-advanced-threat-protection.md) oferty (ATP), która to ujednolicone pakiet dla zaawansowane funkcje zabezpieczeń programu SQL. Ocena luk w zabezpieczeniach można uzyskać dostęp i zarządzane za pośrednictwem centralnej portal SQL ATP.

## <a name="what-is-vulnerability-assessment"></a>Co to jest ocena luk w zabezpieczeniach?
Ocena luk w zabezpieczeniach SQL (VA) to usługa, która zapewnia wgląd w stan zabezpieczeń i zawiera kroki rozwiązywania problemów z zabezpieczeniami w celu zwiększenia bezpieczeństwa bazy danych z możliwością działania. Może ona ułatwić:  
- Spełnia wymagania dotyczące zgodności, które wymagają raporty skanowania bazy danych.  
- Spełnia standardy ochrony prywatności danych.  
- Monitorowanie środowiska dynamicznej bazy danych, której zmiany są trudne do wykrycia.  

Oceny luk w zabezpieczeniach to usługa skanowania wbudowana w usługę Azure SQL Database. Usługa wykorzystuje wiedzy o regułach, która Flaga luk w zabezpieczeniach, a następnie zaznacz odchyleń od najlepszych rozwiązań, takich jak nieprawidłowe konfiguracje, nadmierne uprawnienia i niechronione poufnych danych. Reguły są oparte na najlepszych rozwiązań i skoncentrować się na problemy z zabezpieczeniami, są one największych zagrożeń dla bazy danych i jego cennych danych firmy Microsoft. Obejmują one zarówno problemach na poziomie bazy danych, jak i problemy dotyczące zabezpieczeń na poziomie serwera, takich jak ustawieniach zapory serwera i uprawnienia na poziomie serwera. Zasady te reprezentują wiele wymagań różnych organów regulacyjnych standardów zgodności.  

Wyniki skanowania obejmują kroki z możliwością działania można rozwiązać poszczególne problemy i podaj skrypty korygujące dostosowane, jeśli ma to zastosowanie. Raport z oceny można dostosować w danym środowisku, ustawiając dopuszczalne linii bazowej konfiguracji uprawnień, konfiguracji funkcji i ustawień bazy danych.   

## <a name="implementing-va"></a>Implementowanie oceny luk w zabezpieczeniach  
Następujące kroki implementacji oceny luk w zabezpieczeniach w bazie danych SQL.  

## <a name="1-run-a-scan"></a>1. Uruchom skanowanie w poszukiwaniu  
Wprowadzenie do oceny luk w zabezpieczeniach, przechodząc do **zaawansowanej ochrony przed zagrożeniami** w pozycji zabezpieczeń, w okienku usługi Azure SQL Database. Kliknij, aby włączyć zaawansowanej ochrony przed zagrożeniami, a następnie kliknij polecenie **oceny luk w zabezpieczeniach** karty, który automatycznie otwiera się karta ustawień oceny luk w zabezpieczeniach. 

Rozpocznij od konfigurowania konta magazynu, w którym będą przechowywane wyniki skanowania. Aby uzyskać informacji o kontach magazynu, zobacz [kontach magazynu Azure o](../storage/common/storage-create-storage-account.md). Po skonfigurowaniu magazynu kliknij **skanowania** skanowanie bazę danych pod kątem luk w zabezpieczeniach.
  
![Skanuj bazę danych](./media/sql-vulnerability-assessment/pp_va_initialize.png)  
  > [!NOTE]   
  > Skanowanie jest lekkie i bezpieczne. Zajmuje kilka sekund, aby uruchomić i jest całkowicie tylko do odczytu. Nie wprowadzać żadnych zmian do bazy danych.  

## <a name="2-view-the-report"></a>2. Wyświetl raport  
Po zakończeniu skanowania raportu skanowania jest automatycznie wyświetlana w witrynie Azure portal. Raport przedstawia omówienie stanu zabezpieczeń: nie znaleziono jak największej liczby problemów i ich odpowiednich ważności. Wyniki obejmują ostrzeżenia w przypadku odchyleń od najlepszych rozwiązań i migawkę ustawień związanych z zabezpieczeniami, takich jak podmiotów zabezpieczeń bazy danych i role oraz skojarzonych z nimi uprawnień. Raport zapewnia również mapę poufnych danych w bazie danych i zawiera także zalecenia do klasyfikowania tych danych przy użyciu [odnajdywanie i klasyfikacja danych](sql-database-data-discovery-and-classification.md). 
 
![Wyświetl raport](./media/sql-vulnerability-assessment/pp_main_getstarted.png)  

## <a name="3-analyze-the-results-and-resolve-issues"></a>3. Analizuj wyniki i rozwiązywanie problemów  
Przejrzyj wyniki i określ wyniki w raporcie, które są problemy z zabezpieczeniami wartość true w danym środowisku. Przejść do każdego wyniku nie powiodło się, aby zrozumieć wpływ niezgodności i dlaczego każdego sprawdzanie zabezpieczeń nie powiodło się. Aby rozwiązać ten problem, należy użyć możliwością wykonywania akcji korygowania informacjami w raporcie.  

![Analizowanie raportu](./media/sql-vulnerability-assessment/pp_fail_rule_show_remediation.png)    

## <a name="4-set-your-baseline"></a>4. Ustawianie poziomu odniesienia  
Podczas przeglądania wyników oceny można oznaczyć określone wyniki w postaci zaakceptowania *linii bazowej* w danym środowisku. Linia bazowa jest zasadniczo dostosowany sposób wyniki są zgłaszane. Wyniki, które odpowiadają linię bazową są traktowane jako przekazywanie w kolejne skanowania. Po upewnieniu się, stan linii bazowej zabezpieczeń, oceny luk w zabezpieczeniach tylko raporty o odchyleniach od linii bazowej i skoncentrować się uwagi na istotne kwestie.  

![Ustawianie poziomu odniesienia](./media/sql-vulnerability-assessment/pp_fail_rule_show_baseline.png)  

## <a name="5-run-a-new-scan-to-see-your-customized-tracking-report"></a>5. Uruchom nowe skanowanie, aby wyświetlić raport śledzenia niestandardowe  
Po zakończeniu ustawienia zapasowej sieci **reguły odniesienia**, Uruchom nowe skanowanie, aby wyświetlić dostosowany raport. Oceny luk w zabezpieczeniach teraz zgłasza, że tylko zagadnienia związane z zabezpieczeniami może odbiegać od swój stan zatwierdzony punkt odniesienia. 
 
![Wyświetl raporty niestandardowe](./media/sql-vulnerability-assessment/pp_pass_main_with_baselines.png)  

Oceny luk w zabezpieczeniach może teraz służyć do monitorowania, że bazy danych utrzymuje wysoki poziom zabezpieczeń przez cały czas i że zostały spełnione zasad organizacji. Jeśli raporty dotyczące zgodności są wymagane, raporty z oceny luk w zabezpieczeniach może być przydatne w celu ułatwienia procesu zgodności.  

## <a name="6-set-up-periodic-recurring-scans"></a>6. Konfigurowanie okresowe skanowania cykliczne
Przechodzenie do ustawień oceny luk w zabezpieczeniach, aby włączyć **okresowe skanowania cykliczne**. Pozwoli to na skonfigurowanie oceny luk w zabezpieczeniach do automatycznego uruchamiania skanowania bazy danych raz w tygodniu. Podsumowanie wyników skanowania będą wysyłane na adresy e-mail, których udzielasz.

![Wyświetl raporty niestandardowe](./media/sql-vulnerability-assessment/pp_recurring_scans.png)

## <a name="7---export-an-assessment-report"></a>7.   Eksportuj raport z oceny
Kliknij przycisk **Eksportuj wyniki skanowania** utworzyć raport programu Excel do pobrania z wyników skanowania. Ten raport zawiera podsumowanie karta, która wyświetla podsumowanie oceny, w tym wszystkie nieudane testy. Obejmuje również **wyniki** zawierające pełny zestaw wyników skanowania, w tym wszystkie testy, które były przebiegu i szczegóły wyniku dla każdej karty. 

## <a name="8---view-scan-history"></a>8.   Wyświetl historię skanowania
Kliknij przycisk **historię skanowania** w okienku oceny luk w zabezpieczeniach, aby wyświetlić historię skanowania wszystkich wcześniej uruchamiane dla tej bazy danych. Wybierz określoną skanowania na liście, aby wyświetlić szczegółowe wyniki tego skanowania.

Oceny luk w zabezpieczeniach może teraz służyć do monitorowania, że bazy danych utrzymuje wysoki poziom zabezpieczeń przez cały czas i że zostały spełnione zasad organizacji. Jeśli raporty dotyczące zgodności są wymagane, raporty z oceny luk w zabezpieczeniach może być przydatne w celu ułatwienia procesu zgodności.

## <a name="manage-vulnerability-assessments-using-azure-powershell"></a>Zarządzanie oceny luk w zabezpieczeniach przy użyciu programu Azure PowerShell

Polecenia cmdlet programu Azure PowerShell można użyć do programowego zarządzania oceny luk w zabezpieczeniach. Obsługiwane polecenia cmdlet są:

* [Aktualizacja AzureRmSqlDatabaseVulnerabilityAssessmentSettings](https://docs.microsoft.com/powershell/module/azurerm.sql/Update-AzureRmSqlDatabaseVulnerabilityAssessmentSettings?view=azurermps-6.6.0) — aktualizuje ustawienia oceny luk w zabezpieczeniach bazy danych
* [Get-AzureRmSqlDatabaseVulnerabilityAssessmentSettings](https://docs.microsoft.com/powershell/module/azurerm.sql/Get-AzureRmSqlDatabaseVulnerabilityAssessmentSettings?view=azurermps-6.6.0) zwraca luki w zabezpieczeniach ustawień oceny bazy danych
* [Wyczyść AzureRmSqlDatabaseVulnerabilityAssessmentSettings](https://docs.microsoft.com/powershell/module/azurerm.sql/Clear-AzureRmSqlDatabaseVulnerabilityAssessmentSettings?view=azurermps-6.6.0) Wyczyść ustawienia oceny luk w zabezpieczeniach bazy danych
* [Zestaw AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/azurerm.sql/Set-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline?view=azurermps-6.6.0) ustawia odniesienia reguły oceny luk w zabezpieczeniach.
* [Get-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/azurerm.sql/Get-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline?view=azurermps-6.6.0) pobiera reguły oceny luk w zabezpieczeniach według planu bazowego dla danej reguły.
* [Wyczyść AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/azurerm.sql/Clear-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline?view=azurermps-6.6.0) czyści odniesienia reguły oceny luk w zabezpieczeniach. Najpierw należy ustawić punktu odniesienia przed rozpoczęciem korzystania z tego polecenia cmdlet, wyczyść to pole wyboru.
* [Start-AzureRmSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/azurerm.sql/Start-AzureRmSqlDatabaseVulnerabilityAssessmentScan?view=azurermps-6.6.0) wyzwala rozpoczęcia skanowania w celu oceny luk w zabezpieczeniach
* [Get-AzureRmSqlDatabaseVulnerabilityAssessmentScanRecord](https://docs.microsoft.com/powershell/module/azurerm.sql/Get-AzureRmSqlDatabaseVulnerabilityAssessmentScanRecord?view=azurermps-6.6.0) pobiera rekordy skanowania oceny luk w zabezpieczeniach w wszystkie skojarzone z określoną bazą danych.
* [Konwertuj AzureRmSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/azurerm.sql/Convert-AzureRmSqlDatabaseVulnerabilityAssessmentScan?view=azurermps-6.6.0) konwertuje wyniki skanowania oceny luk w zabezpieczeniach do pliku programu Excel


Aby uzyskać przykładowy skrypt, zobacz [Obsługa programu PowerShell oceny luk w zabezpieczeniach SQL Azure](https://blogs.msdn.microsoft.com/sqlsecurity/2018/08/02/azure-sql-vulnerability-assessment-now-with-powershell-support/).


## <a name="next-steps"></a>Kolejne kroki  

- Dowiedz się więcej o [SQL zaawansowanej ochrony przed zagrożeniami](sql-advanced-threat-protection.md)
- Dowiedz się więcej o [odnajdywanie i klasyfikacja danych](sql-database-data-discovery-and-classification.md)
