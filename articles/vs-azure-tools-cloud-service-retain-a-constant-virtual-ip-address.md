<properties
   pageTitle="クラウド サービスの固定仮想 IP アドレスを保持する方法 | Microsoft Azure"
   description="Azure クラウド サービスの仮想 IP アドレス (VIP) が変化しないようにする方法について説明します。"
   services="visual-studio-online"
   documentationCenter="na"
   authors="TomArcher"
   manager="douge"
   editor="" />
<tags
   ms.service="multiple"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="multiple"
   ms.date="09/08/2015"
   ms.author="tarcher" />

# クラウド サービスの固定仮想 IP アドレスを保持する方法

Azure でホストされているクラウド サービスを更新するとき、サービスの仮想 IP アドレス (VIP) が変更されないようにしなければならない場合があります。 ドメイン管理サービスの多くは、ドメイン ネーム システム (DNS) を使用してドメイン名の登録を行います。 DNS が正しく機能するためには、VIP が不変であることが必要です。 使用することができます、 **発行ウィザード** 、クラウド サービスの VIP は変更しない場合にようにするための Azure ツールに更新します。 クラウド サービスの DNS ドメインの管理を使用する方法の詳細については、次を参照してください。 [Azure クラウド サービスのカスタム ドメイン名の構成](cloud-services-custom-domain-name.md)します。

## VIP を変更せずにクラウド サービスを発行する

運用環境など特定の環境で初めてクラウド サービスを Azure にデプロイするとき、クラウド サービスの VIP が割り当てられます。 その VIP は、デプロイを明示的に削除するか、またはデプロイの更新プロセスによって暗黙的にデプロイが削除されない限り変化しません。 VIP を維持するには、自らデプロイを削除しないようにすると共に、Visual Studio によって自動的にデプロイが削除されないようにする必要があります。 展開設定を指定することによって、動作を制御することができます、 **発行ウィザード**, 、いくつかの展開オプションをサポートします。 指定できるデプロイとして新規と更新があります。更新デプロイには、増分更新と同時更新とがあり、どちらも VIP が維持されます。 これらの種類のデプロイの定義は、次を参照してください。 [Azure アプリケーションの発行ウィザード](vs-azure-tools-publish-azure-application-wizard.md)します。  さらに、エラーが発生した場合に、それまでのクラウド サービスのデプロイを削除するかどうかを制御できます。 そのオプションが正しく設定されていない場合、VIP が予期せず変化する可能性があります。

### VIP を変更せずにクラウド サービスを更新するには

1. 少なくとも 1 回、クラウド サービスを展開したら、Azure プロジェクトでは、ノードのショートカット メニューを開きを選択し、 **発行**します。  **Azure アプリケーションの発行** ウィザードが表示されます。

1. サブスクリプションの一覧で、展開、および順に選択するいずれかを選択、 **次** ] ボタンをクリックします。  **設定** ウィザードのページが表示されます。

1.  **一般的な設定** ] タブで、確認を展開しているクラウドの名前がサービスを提供する、 **環境**, 、 **ビルド構成**, 、および **サービス構成** がすべて正しい。

1.  **の詳細設定** ] タブで、ストレージ アカウントとデプロイ ラベルが正しいことを確認する、 **失敗時にデプロイメントを削除** ] チェック ボックスをオフにすると、 **展開** 更新プログラムのチェック ボックスをオンします。 選択して、 **展開** 更新] チェック ボックス、デプロイが削除されないし、アプリケーションを再発行するときに、VIP が失われないことを確認します。 オフにすると、 **展開失敗] チェック ボックスを削除**, 、展開中にエラーが発生した場合、VIP が失われますがれないことを確認します。

1. さらに更新する役割をする方法を指定するには、選択、  **設定** リンク] の横に、 **配置の更新** ボックスで、増分更新または同時更新のオプションのいずれかをクリックして、 **配置の更新** 設定] ダイアログ ボックス。 増分更新を選択した場合は、インスタンスが 1 つずつ更新されるので、アプリケーションは常時利用できる状態となります。 同時更新を選択した場合は、すべてのインスタンスが同時に更新されます。 同時更新の方が高速ですが、更新処理中はサービスが利用できない可能性があります。

1. 問題がなければ、設定と、選択、 **次** ] ボタンをクリックします。

1.  **概要** ページ、ウィザードの設定を確認し、[、 **発行** ] ボタンをクリックします。

  >[AZURE.WARNING] 展開が失敗した場合は、失敗の理由に対処し、速やかに再展開すると、破損した状態では、クラウド サービスを残さないようにください。

## 次のステップ

Visual Studio から Azure に発行について知るを参照してください。 [Azure の発行アプリケーション ウィザード](vs-azure-tools-publish-azure-application-wizard.md)します。

