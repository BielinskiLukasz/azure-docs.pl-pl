<properties 
    pageTitle="Application Insights を使用したメトリックの探索" 
    description="メトリック エクスプローラーでグラフを解釈する方法と、メトリック エクスプローラー ブレードをカスタマイズする方法です。" 
    services="application-insights" 
    documentationCenter=""
    authors="alancameronwills" 
    manager="douge"/>

<tags 
    ms.service="application-insights" 
    ms.workload="tbd" 
    ms.tgt_pltfrm="ibiza" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="11/23/2015" 
    ms.author="awills"/>


# Application Insights を使用したメトリックの探索

メトリックに [Application Insights の ][start] は測定値と、アプリケーションからのテレメトリとして送信されるイベントの数。 メトリックは、パフォーマンスの問題を検出し、アプリケーションの利用に関する傾向を把握するのに役立ちます。 さまざまな標準メトリックが用意されているほか、独自にカスタムのメトリックとイベントを作成することもできます。

メトリックとイベントの数は、合計、平均、カウントなどの集計値のグラフに表示されます。

グラフの例を次に示します。

![Azure ポータルでアプリケーションの概要ブレードを開きます](./media/app-insights-metrics-explorer/01-overview.png)

一部のグラフは分割されています。あるポイントのグラフ全体の高さは、表示されているメトリックの合計を示します。 既定では、凡例は、最大数量を示します。

点線は、1 週間前のメトリックの値を示します。



## 時間範囲

任意のブレードのグラフまたはグリッドで使用される時間範囲を変更できます。

![Azure ポータルでアプリケーションの概要ブレードを開きます](./media/app-insights-metrics-explorer/03-range.png)


想定しているデータがまだ表示されていない場合は、[最新の情報に更新] をクリックします。 グラフは周期的に自動で更新されますが、時間範囲が広い場合、更新間隔も長くなります。 リリース モードでは、データが分析パイプラインを介してグラフとして表示されるまでに時間がかかる場合があります。

グラフの一部を拡大するには、ドラッグして、拡大鏡の記号をクリックします。

![グラフの一部をドラッグします。](./media/app-insights-metrics-explorer/12-drag.png)



## 粒度とポイント値

グラフ上にマウス ポインターを置くと、そのポイントのメトリックの値が表示されます。

![グラフ上にマウス ポインターを置きます](./media/app-insights-metrics-explorer/02-focus.png)

特定のポイントのメトリックの値は、先行するサンプリング間隔の集計です。

サンプリング間隔または "粒度" は、ブレードの上部に表示されます。

![ブレードのヘッダー。](./media/app-insights-metrics-explorer/11-grain.png)

[時間範囲] ブレードで粒度を調整できます。

![ブレードのヘッダー。](./media/app-insights-metrics-explorer/grain.png)

使用できる粒度は、選択した時間範囲によって異なります。 明示的な粒度は、時間範囲の "自動" 粒度の代替手段です。

## メトリックス エクスプローラー

概要ブレード上の任意のグラフをクリックすると、関連するグラフとグリッドのより詳細なセットが表示されます。 これらのグラフとグリッドを編集して、興味の対象となる細部にフォーカスを当てることができます。

または、概要ブレードの先頭にあるメトリックス エクスプローラー ボタンを単にクリックします。

たとえば、Web アプリの失敗した要求のグラフをクリックします。

![概要ブレードでグラフをクリックします](./media/app-insights-metrics-explorer/14-trix.png)


## 数値の意味

既定でグラフの横にある凡例は、通常、グラフの期間における集計値を示します。 グラフ上にマウス ポインターを置くと、その時点での値が表示されます。

グラフの各データ ポイントは、前のサンプリング間隔または "粒度" で受信したデータ値の集計です。 粒度はブレードの上部に表示され、グラフの全体的な時間スケールに応じて異なります。

メトリックは、次のようなさまざまな方法で集計できます。

 * **合計**は、サンプリング間隔 (グラフの期間) 中に受信したすべてのデータ ポイントの値を合計します。
 * **平均**は、合計を、間隔中に受信したデータ ポイントの数で除算します。
 * **一意の**数は、ユーザーとアカウントの数に使用されます。 サンプリング間隔中 (グラフの期間中)、数値はその期間のさまざまなユーザーの数を示します。


集計方法は変更できます。

![グラフを選択し、集計を選択します](./media/app-insights-metrics-explorer/05-aggregation.png)

新しいグラフの作成時に、各メトリックの既定の方法が表示されます。

![すべてのメトリックを選択解除して既定値を表示します](./media/app-insights-metrics-explorer/06-total.png)


## グラフおよびグリッドの編集

新しいグラフをブレードに追加するには:

![メトリックス エクスプローラーで、](./media/app-insights-metrics-explorer/04-add.png)

表示内容を編集する既存のグラフまたは新しいグラフを選択します。

![1 つまたは複数のメトリックを選択します](./media/app-insights-metrics-explorer/08-select.png)

1 つのグラフに複数のメトリックを表示できますが、一緒に表示できるメトリックの組み合わせに関して制限があります。 1 つのメトリックを選択するとすぐに、他の特定のメトリックが無効になります。

組み込んだ場合 [[トラック] のカスタム メトリック][track] アプリ (TrackMetric と TrackEvent の呼び出し) に、ここに示されます。

## データの分割

グラフまたはグリッドを選択します。[グループ化] をオンにし、グループ化のために使用するプロパティを選択します。

![[グループ化] をオンにし、](./media/app-insights-metrics-explorer/15-segment.png)

コーディングした場合 [[トラック] のカスタム メトリック][track] アプリがプロパティの値を持つリストにプロパティを選択することができます。

分割されたデータを表示するのにグラフが小さすぎる場合は、 高さを調整することができます。


![スライダーを調整します](./media/app-insights-metrics-explorer/18-height.png)


## データのフィルター選択

選択したプロパティ値のセットのメトリックのみを表示するには:

![[フィルター] をクリックした後、プロパティを展開し、目的の値にチェック マークを付けます](./media/app-insights-metrics-explorer/19-filter.png)

特定のプロパティの値を選択しない場合、すべての値を選択するのと同じ意味になり、そのプロパティに基づくフィルターはオフになります。

各プロパティ値の横に表示されるイベントの数に注意してください。 あるプロパティの値を選択すると、その他のプロパティの値の横に表示される数値が調整されます。

### プロパティをフィルター一覧に追加するには

自分が選んだカテゴリでテレメトリをフィルターしたい場合があります。 たとえば、これらのカテゴリ別に、データを分割したいして、カテゴリごとに、ユーザーを分割するかもしれません。

[、独自のプロパティを作成する](app-insights-api-custom-events-metrics.md#properties)します。 設定して、 [テレメトリ初期化子](app-insights-api-custom-events-metrics.md#telemetry-initializers) にさまざまな SDK モジュールによって送信される標準的な利用統計情報を含むすべてのテレメトリ - で表示することができます。

## Bot と Web テストのトラフィックの除外

**[実トラフィックまたは人工トラフィック]** フィルターを使用し、**[実トラフィック]** にチェック マークを付けます。

**[人工トラフィックのソース]** フィルターを適用することもできます。

## グラフの種類の編集

グリッドとグラフを切り替えることができます。

![グリッドまたはグラフを選択し、グラフの種類を選択します](./media/app-insights-metrics-explorer/16-chart-grid.png)

## メトリック ブレードの保存

作成したグラフはお気に入りとして保存できます。 組織のアカウントを使用している場合は、これを他のチーム メンバーと共有するかどうかを選択できます。

![[お気に入り] を選択します](./media/app-insights-metrics-explorer/21-favorite-save.png)

このブレードをもう一度表示するには、**概要ブレードに移動**し、[お気に入り] を開きます。

![概要ブレードで ](./media/app-insights-metrics-explorer/22-favorite-get.png)

相対的な時間範囲を選択して保存した場合、ブレードは最新のメトリックで更新されます。 絶対的な時間範囲を選択した場合は、毎回同じデータが表示されます。

## ブレードのリセット

ブレードを編集した後で元の保存済みセットに戻すには、[リセット] をクリックします。

![メトリックス エクスプローラーの上部にあるボタン](./media/app-insights-metrics-explorer/17-reset.png)

## アラートの設定

すべてのメトリックの異常な値を電子メールで通知するには、アラートを追加します。 アカウント管理者または特定の電子メール アドレスのいずれかに電子メールを送信することを選択できます。

![メトリックス エクスプローラーで、](./media/app-insights-metrics-explorer/appinsights-413setMetricAlert.png)

[[警告] アラートの詳細について][alerts]します。

## Excel へのエクスポート

メトリックス エクスプローラーに表示されるメトリック データを Excel ファイルにエクスポートできます。 ポータルに示すように、エクスポートされたデータには、すべてのグラフとテーブルからのデータが含まれています。


![メトリックス エクスプローラーで、](./media/app-insights-metrics-explorer/31-export.png)

各グラフやテーブルのデータが Excel ファイルの別のワークシートにエクスポートされます。

表示されている内容がエクスポートされます。 エクスポートするデータの範囲を変更する場合は、時間の範囲またはフィルターを変更します。 テーブルの場合で、**[さらに読み込む]** が表示されている場合は、それをクリックしてから [エクスポート] をクリックすると、より多くのデータをエクスポートできます。

* 現時点で Internet Explorer と Chrome でのみ機能をエクスポートします。 その他の browsers.* のサポートの追加に取り組んでいます

### 連続エクスポート

データの外部で処理できるように、連続してエクスポートする場合は、使用を検討して [連続エクスポート](app-insights-export-telemetry.md)します。

### Power BI

データのビューがより豊富な場合は、 [Power BI にエクスポート](http://blogs.msdn.com/b/powerbi/archive/2015/11/04/explore-your-application-insights-data-with-power-bi.aspx)します。

## 次のステップ

* [Application Insights による使用状況の監視](app-insights-overview-usage.md)
* [診断検索の使用](app-insights-diagnostic-search.md)





[alerts]: app-insights-alerts.md 
[start]: app-insights-overview.md 
[track]: app-insights-api-custom-events-metrics.md 

