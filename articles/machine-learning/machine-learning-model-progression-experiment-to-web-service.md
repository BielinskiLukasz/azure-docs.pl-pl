<properties
    pageTitle="Machine Learning モデルが実験から運用可能な Web サービスになるまでの過程 | Microsoft Azure"
    description="Azure Machine Learning モデルが開発中の実験から運用可能な Web サービスになるまでにたどる過程の概要を説明します。"
    services="machine-learning"
    documentationCenter=""
    authors="garyericson"
    manager="paulettm"
    editor="cgronlun"/>

<tags
    ms.service="machine-learning"
    ms.workload="data-services"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="11/10/2015"
    ms.author="garye"/>


# Machine Learning モデルが実験から運用可能な Web サービスになるまでの過程

 ***実験*** できるようにする Azure Machine Learning Studio でのキャンバス
実行、テスト、および作成する際に反復処理すると、対話形式で開発、
予測分析モデルです。 さまざまなモジュールが使用します。
実験にデータを取り込むデータを操作を行うこともできます。
機械学習アルゴリズムを使用してモデルのトレーニング、モデルのスコア
結果を評価し、最終的な値を出力します。

期待どおりであれば、実験、されたら、それをデプロイできます、
***Azure の web サービス*** ユーザーが新しいデータを送信して戻る受信できるように
結果。

この記事で紹介方法のしくみの概要については、
開発から machine Learning モデルの進行を試してみて、
運用可能な web サービスです。

>[AZURE.NOTE] 開発および機械学習を配置するには、その他の方法があります。
モデルが、この記事は Machine Learning を使用する方法に重点を置きます
。 使用して予測 web サービスを作成する方法の詳細について
R、ブログの投稿を参照してください [ビルドと展開予測 Web アプリを使用して RStudio
Azure
ML](http://blogs.technet.com/b/machinelearning/archive/2015/09/25/build-and-deploy-a-predictive-web-app-using-rstudio-and-azure-ml.aspx)します。

Azure Machine Learning Studio は、主にするためにデザインされています
開発およびデプロイ、 *予測分析モデル*, を使用することは
Studio で、予測が含まれていない、実験を開発するには
分析モデルです。 たとえば、実験が同じ入力データは、可能性があります。
操作し、結果を出力します。 同じように、予測
分析の実験として予測しないこの実験を展開することができます、
web サービスが、実験がないため、簡単なプロセスの
トレーニングまたは機械学習モデルをスコア付けします。 外にあるときに、
Studio の一般的な使用方法を含められ以下で説明できるように
Studio のしくみの詳細な説明については、ことができます。

## 予測 Web サービスの開発とデプロイ

ここでは、一般的なソリューションを開発するときに依存している段階と
Machine Learning Studio を使用して展開します。

![](media\machine-learning-model-progression-experiment-to-web-service\model-stages-from-experiment-to-web-service.png)

*図 1 - 一般的な予測分析モデルの段階*

### トレーニング実験

 ***トレーニング実験*** は最初のマシンでキャンバスを試してみる
Studio を学習します。 トレーニング実験の目的は、提供する、
開発、テスト、反復処理、および最終的に machine learning のトレーニングに配置します。
モデル。 でもをトレーニングする複数のモデルに同時確認すると
最適なソリューションが完了したら実験を選択しますが、
トレーニング済みのモデルを 1 つし、実験から残りの部分を排除します。 に対して、
予測分析の実験の開発の例を参照してください [開発、
Azure での信用リスク評価のための予測分析ソリューション
マシン
学習](machine-learning-walkthrough-develop-predictive-solution.md)します。

### 予測実験

トレーニング済みモデルがあるときに、トレーニング実験をクリックします。
**Web サービスのセットアップ** Machine Learning Studio および Studio で次のように移動します。
トレーニング実験を変換するプロセスを通じて、
***予測実験***します。 予測の実験を目的します。
目的で、新しいデータを最終的にスコアを付けるため、トレーニングされたモデルを使用してください。
Azure の web サービスとして計算します。

この変換は、次の手順で行われます。

-   1 つのモジュールのトレーニングに使用されるモジュールのセットに変換します。
    トレーニング済みのモデルとして保存

-   スコア付けに関係しない余分なモジュールをすべて除外する

-   最終的な Web サービスで使用する入力ポートと出力ポートを追加する

予測を取得するようにする変更がある可能性があります。
実験を web サービスとしてデプロイする準備ができます。 たとえば、次の場合
出力結果のサブセットのみを web サービスを追加できます、
出力ポートの前にフィルター処理します。

この変換プロセスでは、トレーニング実験は破棄されません。
Studio で 2 つのタブをすれば、プロセスが完了するとします 1 つずつ、。
トレーニング実験と予測の実験用です。 これにより、
web サービスを展開する前に、トレーニングに変更を加えることができます。
予測の実験を再構築してください。 コピーを保存することもできます。
実験の別の行を開始するトレーニング実験します。

>[AZURE.NOTE] クリックすると、 **Web サービスのセットアップ** が自動的に開始します。
トレーニング実験を予測の実験に変換するプロセス
これは、ほとんどの場合に適しています。 トレーニング実験がある場合、
複雑な (たとえば、あるに参加するトレーニングに複数のパス
同時に)、この変換を手動で行うことをお勧めします。 サブスクリプションの
この変換処理のしくみの詳細については、[変換、マシンを参照してください。
Learning トレーニング実験を予測する
experiment](machine-learning-convert-training-experiment-to-scoring-experiment.md) します。

### Web サービス

問題がなければ、予測実験準備ができたことをします。
クリックして **Web サービスの展開** を展開して、モデルを運用するには
として、 ***Azure の web サービス***します。 ユーザーはこれで、モデルを使用するデータを送信します。
web は、REST API サービスを提供し、結果を受け取ります。 サブスクリプションの
これを行う方法の詳細についてを参照してください [Azure マシンで使用する方法
Machine Learning から展開済み learning web サービス
実験](machine-learning-consume-web-services.md)します。

Web サービスでは、予測実験および web を展開する 1 回
サービスに接続しておくし、それらの間の前後に移動できます。

|***undefined***|***undefined***|***undefined***|
| ------------------- | --------------- | ---------------------- |
|Studio の実験キャンバス|**[Web サービスに移動]**|Studio の Web サービス構成|
|Studio の Web サービス構成|**最新の表示**|Studio の実験キャンバス|
|Studio の Web サービス構成|**エンドポイントの管理...**|Azure クラシック ポータルのエンドポイント管理|
|Azure クラシック ポータルのエンドポイント管理|**Studio で編集**|Studio の実験キャンバス|

![](media\machine-learning-model-progression-experiment-to-web-service\connections-between-experiment-and-web-service.png)

*図 2 - 実験と Web サービスの接続*

## 一般的でないケース: 非予測 Web サービスの作成

実験は後、予測分析モデルをトレーニングしていない場合
トレーニング実験とスコア付け実験の両方を作成する必要はありません - があります。
1 つだけ実験してとして展開する web サービス
(Machine Learning Studio は、実験があるかどうかを検出します。
予測モデルを使用したモジュールの分析)。

実験を反復処理して問題がなければ、次の手順に従います。

1.  クリックして **Web サービスのセットアップ** - 入力し、出力ノードが追加されます
    自動的に

2.  クリックして **実行**

3.  クリックして **Web サービスの展開**

Web サービスが展開されたところで、アクセスしてのみ管理できます。
予測される web サービスのように。

## Web サービスのボタン

Machine Learning studio、web サービス ボタン - **Web の設定
サービス** と **Web サービスの展開** -名前と関数を変更します。
場所にいることで、開発プロセスによって異なります。

**実験に予測モデルが含まれる場合**

実験のトレーニングおよびスコアを予測モデルでは、[web の場合
サービスのボタンは、これらの関数を実行します。

|**実験の種類**|**ボタン**|**実行内容**|
| -------------------- | -------- | -------------- |
|開発中の実験|**Web サービスの設定**|2 つのオプションが表示されます。|
|&nbsp;|- **予測 Web サービス**|実験をトレーニング実験とスコア付け実験の両方に変換します。|
|&nbsp;|- **Web サービスの再トレーニング**|実験を再トレーニング実験に変換します (以下の「更新」セクションを参照してください)。|
|トレーニング実験|**Web サービスの設定**|2 つのオプションが表示されます。|
|&nbsp;|- **予測実験を更新**|トレーニング実験に加えた変更内容で、関連する予測実験を更新します。|
|&nbsp;|- **Web サービスの再トレーニング**|トレーニング実験を再トレーニング実験に変換します (以下の「更新」セクションを参照してください)。|
|&nbsp;|-*または*- **Web サービスの展開**|デプロイ用に再トレーニング実験を設定した場合は、再トレーニング実験が Web サービスとしてデプロイされます。|
|予測実験|**Web サービスのデプロイ**|Web サービスとして予測実験をデプロイします。|

**実験は *いない* 予測モデルを含む**

実験がトレーニングし、予測モデルのスコア付けしていない場合、
web サービスのボタンは非常に簡単です。

|**実験の種類**|**ボタン**|**実行内容**|
| -------------------- | -------- | -------------- |
|開発中の実験|**Web サービスの設定**|Web サービスとしてデプロイするために実験を準備します。|
|デプロイの準備が整った実験|**Web サービスのデプロイ**|Web サービスとして実験をデプロイし、Web サービスの構成のページを開きます。|

## Web サービスの更新

これである場合、実験を web サービスとしてデプロイしたします。
更新する必要がありますか。

その方法は更新する対象によって異なります。

**入力または出力を変更するかを変更する方法
web サービスは、データを操作します。**

モデルの変更していないかどうかは、だけを変更する方法、web
サービスはデータを処理、予測の実験を編集することができ、
クリックして **Web サービスの展開** 再度します。 Web サービスが停止します
更新の予測実験が展開され、web サービスは、
再び起動します。

例を次に示します: 予測実験は、全体を返すとします
予測の結果により、入力データの行。 ことができますを
同様の結果を返すための web サービスをします。 追加できるように、
**列を投影** 直前に、予測の実験でモジュール
出力ポートでの結果以外の列を除外します。 Azure プロジェクトを
クリックして **Web サービスの展開** ここでも、web サービスが更新されました。

**新しいデータでモデルを再トレーニングする必要がある場合**

機械学習モデルを保持したい場合
新しいデータで再トレーニングには、2 つの選択肢があります。

1.  **Web サービスの実行中に、モデルの再トレーニング** - する場合
    予測の web の中に、モデルを再トレーニングを行うサービスは実行されている、
    いくつかの変更、トレーニングすることによってこれを行う
    実験すること、 ***実験を再トレーニング***, を選択できます
    展開として、 ***再トレーニング web* サービス**します。 手順について
    これを行うには、次を参照してください [Machine Learning の再トレーニング モデル。
    プログラムを使用して](machine-learning-retrain-models-programmatically.md)します。

2.  **元のトレーニング実験に戻るし、さまざまな使用
    モデルを作成するデータをトレーニング** の予測実験
    web サービスにリンクされているが、トレーニング実験はありません
    この方法で直接関連します。 元のトレーニングを変更する場合
    をクリックして **Web サービスのセットアップ**, が自動的に作成、 *新規*
    予測実験を展開すると、作成、 *新規*
    web サービスです。 単に元の Web サービスを更新するのではありません。

    したがって、トレーニング実験を変更する必要がある場合を開き、をクリックしてください
    **名前を付けて保存** コピーを作成します。 これはそのままで、元
    トレーニング実験、予測の実験と web サービスです。 Visual Studio Online アカウントは
    ここで変更内容を新しい web サービスを作成します。 展開した後
    新しい web サービスが、前で停止するかどうかを決定できます。
    web サービスまたは新しいと共に動作します。

**別のモデルをトレーニングする必要がある場合**

変更する場合
別の選択など、元の予測実験
機械学習アルゴリズム、さまざまなトレーニング メソッドのなどをしようとしています、。
前に説明した 2 つ目の手順を実行する必要がありますし、
モデルを再トレーニング: トレーニング実験を開き、[ **名前を付けて保存**
コピーを作成し、開発の新しいパスを開始する、
モデルの予測実験を作成して、web を展開します。
します。 これには、元に関係のない新しい web サービスを作成します。
1 つのどの一方または両方、実行を続けることができます。

## 参考資料

このプロセスの詳細については、以下の記事を参照してください。

-   実験に変換する [機械学習トレーニングの変換
    予測実験を試す](machine-learning-convert-training-experiment-to-scoring-experiment.md)

-   web サービスを展開する [Azure Machine Learning web のデプロイ
    サービス](machine-learning-publish-a-machine-learning-web-service.md)

-   モデルの再トレーニング [Machine Learning の再トレーニング モデル
    プログラムを使用して](machine-learning-retrain-models-programmatically.md)

プロセス全体の例については、以下を参照してください。

-   [機械学習チュートリアル: Azure での最初の実験の作成
    Machine Learning
    スタジオ](machine-learning-create-experiment.md)

-   [チュートリアル: 信用の予測分析ソリューションを開発します。
    Azure マシンでリスク評価
    ラーニング](machine-learning-walkthrough-develop-predictive-solution.md)

