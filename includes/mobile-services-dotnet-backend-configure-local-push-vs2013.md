オプションで、プッシュ通知を Azure へ発行する前に、ローカル コンピューターまたは VM 上で稼働するモバイル サービスを使用してプッシュ通知をテストできます。 テストするには、アプリケーションが使用している通知ハブに関する情報を web.config ファイルに設定する必要があります。 この情報は、ローカルで動作して通知ハブに接続する場合にだけ使用され、Azure へ発行した場合は無視されます。

1. モバイル サービス プロジェクト フォルダーの readme.html ファイルを開きます。

    まだ開いていない場合は、**[Push のセットアップがほぼ完了しています]** ページが表示されます。 「**手順 3: Web 構成の変更**」セクションには、通知ハブの接続情報があります。

2. Visual Studio のモバイル サービス プロジェクトで、サービスの Web.config ファイルを開きます。次に、**connectionStrings** で、**[Push のセットアップがほぼ完了しています]** ページから接続文字列 **MS_NotificationHubConnectionString** を追加します。

3. **appSettings** で、アプリ設定 **MS_NotificationHubName** の値を、**[Push のセットアップがほぼ完了しています]** ページで検出された通知ハブの名前に置き換えます。

4. モバイル サービス プロジェクトを右クリックし、**[デバッグ]**、**[新しいインスタンスの開始]** の順にクリックしてから、ブラウザーに表示されているスタートアップ ページのサービス ルート URL をメモします。

    これが、.NET バックエンド プロジェクトのローカル ホストの URL になります。 この URL を使用して、ローカル コンピューターで実行中のモバイル サービスに対してアプリケーションをテストします。

これで、モバイル サービス プロジェクトは、ローカルでの実行時に Azure 内の通知ハブに接続されるように構成されました。 Azure 内で実行する際に、Web.config ファイルにあるプロジェクトの設定はポータルの設定で上書きされるため、ポータルの設定と同じ通知ハブ名と接続文字列を使用する必要がある点に注意してください。




