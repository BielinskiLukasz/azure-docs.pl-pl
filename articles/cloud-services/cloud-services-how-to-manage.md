<properties 
    pageTitle="クラウド サービスの管理方法 | Microsoft Azure" 
    description="Azure クラシック ポータルでクラウド サービスを管理する方法について説明します。" 
    services="cloud-services" 
    documentationCenter="" 
    authors="Thraka" 
    manager="timlt" 
    editor=""/>

<tags 
    ms.service="cloud-services" 
    ms.workload="tbd" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="09/22/2015"
    ms.author="adegeo"/>





# Cloud Services の管理方法

> [AZURE.SELECTOR]
- [Azure クラシック ポータル](cloud-services-how-to-manage.md)
- [Azure ポータル](cloud-services-how-to-manage-portal.md)

 **Cloud Services** 領域は、Azure の従来のポータルで、サービス ロールまたはデプロイメントの更新、ステージングされた展開を運用環境に昇格をできるように、リソースの依存関係を参照してくださいと同時に、リソースの規模を設定し、クラウド サービスまたはデプロイメントの削除は、クラウド サービスに対するリソースのリンクします。


## 方法: クラウド サービス ロールまたはデプロイメントの更新

クラウド サービスのアプリケーション コードを更新する場合を使用して **更新** ダッシュ ボードの [ **クラウド サービス** ] ページで、または **インスタンス** ページです。 1 つのロールを更新することも、すべてのロールを更新することもできます。 新しいサービス パッケージとサービス構成ファイルをアップロードする必要があります。

1.  [Azure クラシック ポータル](https://manage.windowsazure.com/), 、ダッシュ ボードの [ **クラウド サービス** ] ページで、または **インスタンス** ] ページで [ **更新**します。

    ![UpdateDeployment](./media/cloud-services-how-to-manage/CloudServices_UpdateDeployment.png)

2.  **デプロイ ラベル**, 、展開 (たとえば、mycloudservice4) を識別する名前を入力します。 [デプロイ ラベルが見つかります **クイック スタート** ダッシュ ボード。

3.  **パッケージ**, を使用して **参照** サービス パッケージ ファイル (.cspkg) をアップロードします。

4.  **構成**, を使用して **参照** サービス構成ファイル (.cscfg) をアップロードします。

5.  **ロール**, [ **すべて** クラウド サービスのすべてのロールをアップグレードする場合。 1 つのロールの更新を実行するには、更新するロールを選択します。 特定のロールを選択して更新した場合でも、サービス構成ファイルの更新内容はすべてのロールに適用されます。

6. 更新プログラムは、ロールの数またはロールのサイズによって変わる場合、 **ロール サイズまたはロールの数が変更された場合は、更新を許可する** チェック ボックスをオンの更新を続行できません。 

    ロールのサイズ (つまり、ロール インスタンスをホスティングする仮想マシンのサイズ) またはロールの数を変更した場合、各ロール インスタンス (仮想マシン) にイメージを再適用する必要があり、ローカル データがすべて失われることに注意してください。

7. サービス ロールがロール インスタンスが 1 つだけある場合は、選択、 **1 つまたは複数のロールには、1 つのインスタンスのチェック ボックスが含まれていなくても更新** 、アップグレードを続行を有効にします。 

    Azure でクラウド サービスの更新中に 99.95% の可用性を保証できるのは、各ロールに少なくとも 2 つのロール インスタンス (仮想マシン) がある場合だけです。 この場合、1 台の仮想マシンでクライアントからの要求を処理し、もう 1 台で更新を行うことができます。

8. クリックして **OK** (チェック マーク)、サービスの更新を開始します。



## 方法: デプロイメントをスワップしてステージングされたデプロイメントを運用環境に昇格

使用 **スワップ** を運用環境にクラウド サービスのステージング デプロイに昇格します。 クラウド サービスの新しいリリースをデプロイするときは、顧客が運用環境で現在のリリースを使用しながら、クラウド サービスのステージング環境で新しいリリースをステージングしテストできます。 新しいリリースを運用環境に昇格する準備ができたら、行うこともできます **スワップ** に 2 つの展開のアドレスで Url を切り替えます。 

デプロイをスワップ、 **Cloud Services** ページまたはダッシュ ボード。

1.  [Azure クラシック ポータル](https://manage.windowsazure.com/), 、クリックして **クラウド サービス**します。

2. クラウド サービスの一覧で、クラウド サービスをクリックして選択します。

3. クリックして **スワップ**します。

    次のような確認ダイアログが表示されます。

    ![Cloud Services のスワップ](./media/cloud-services-how-to-manage/CloudServices_Swap.png)

4. 展開の情報が表示されたら、クリックして **はい** 展開をスワップします。

    変更されるのはデプロイメントの仮想 IP アドレス (VIP) だけであるため、デプロイメントのスワップは直ちに実行されます。

    コンピューティング費用を節約するために、新しい運用環境のデプロイメントが予想どおりに動作することが確認できたら、ステージング環境のデプロイメントを削除することができます。

## 方法: クラウド サービスに対するリソースのリンク

使用しているクラウド サービスと他のリソースとの依存関係を示すために、Azure SQL Database インスタンスまたはストレージ アカウントをクラウド サービスにリンクすることができます。 リンクしてリソースのリンクを解除、 **リンク済みリソース** ページ、およびクラウド サービスのダッシュ ボードで利用状況を監視します。 リンクされているストレージ アカウントで監視が有効になっている場合は、クラウド サービスのダッシュボードで要求数合計を監視できます。

使用 **リンク** 、新規または既存 SQL データベース インスタンスまたはストレージ アカウントをクラウド サービスにリンクします。 上のそれを使用しているクラウド サービスのロールと共にデータベースをスケールし、 **スケール** ページです。 (ストレージ アカウントは、使用量の変動に伴い自動的に規模が変更されます)。詳細については、次を参照してください。 [クラウド サービスおよびリンクされたリソースの規模変更方法](cloud-services-how-to-scale.md)します。 

監視、管理、してでデータベースをスケール設定、 **データベース** Azure クラシック ポータルのノードです。 

この意味でリソースの "リンク" を行ってもアプリケーションはリソースに接続されません。 使用して新しいデータベースを作成する場合 **リンク**, 、アプリケーション コードへの接続文字列を追加し、クラウド サービスをアップグレードする必要があります。 また、リンクされたストレージ アカウントのリソースをアプリケーションで使用している場合も、接続文字列を追加する必要があります。

以下の手順では、新しい SQL Database サーバーにデプロイされた新しい SQL Database インスタンスをクラウド サービスにリンクする方法を説明しています。

### クラウド サービスに SQL Database インスタンスをリンクするには

1.  [Azure クラシック ポータル](http://manage.windowsazure.com/), 、クリックして **クラウド サービス**します。 目的のクラウド サービスの名前をクリックして、ダッシュボードを開きます。

2. クリックして **リンク済みリソース**します。

     **リンク済みリソース** ページが表示されます。

    ![LinkedResourcesPage](./media/cloud-services-how-to-manage/CloudServices_LinkedResourcesPage.png)

3. いずれかをクリックして **リソースのリンク** または **リンク**します。

     **リソースのリンク** ウィザードが起動します。

    ![リンク ページ 1](./media/cloud-services-how-to-manage/CloudServices_LinkedResources_LinkPage1.png)

4. をクリックして **リソースを新規作成** または **、既存のリソースをリンク**します。

5. リンクするリソースの種類を選択します。  [Azure クラシック ポータル](http://manage.windowsazure.com/), 、クリックして **SQL Database**します。 (プレビューの Azure クラシック ポータルは、ストレージ アカウントをクラウド サービスにリンクする機能をサポートしていません)。

6. データベース構成を完了する手順についてはのヘルプで、 **SQL データベース** Azure クラシック ポータルの領域です。

    リンク操作の進捗状況はメッセージ領域で知ることができます。

    ![リンクの進捗状況](./media/cloud-services-how-to-manage/CloudServices_LinkedResources_LinkProgress.png)

    リンク操作が完了すると、リンクされたリソースの状態をクラウド サービスのダッシュボードで監視できます。 リンクされた SQL データベースのスケーリングについては、次を参照してください。 [クラウド サービスおよびリンクされたリソースの規模変更方法](cloud-services-how-to-scale.md)します。

### リンク済みリソースのリンクを解除するには

1.  [Azure クラシック ポータル](http://manage.windowsazure.com/), 、クリックして **クラウド サービス**します。 目的のクラウド サービスの名前をクリックして、ダッシュボードを開きます。

2. クリックして **リンク済みリソース**, 、リソースを選択します。

3. クリックして **のリンクを解除**します。 クリックし、 **はい** 確認のプロンプトです。

    SQL Database のリンクを解除しても、データベースまたはデータベースに対するアプリケーションの接続は影響を受けません。 データベースを管理することができます、 **SQL データベース** Azure クラシック ポータルの領域です。



## 方法: デプロイメントとクラウド サービスの削除

クラウド サービスを削除する前に、既存のデプロイメントをそれぞれ削除する必要があります。

コンピューティング費用を節約するために、運用環境のデプロイメントが予想どおりに動作することが確認できたら、ステージング環境のデプロイメントを削除することができます。 クラウド サービスが実行中でない場合でも、ロール インスタンスのコンピューティング費用は請求されます。

以下の手順を使用して、デプロイメントまたはクラウド サービスを削除します。 

1.  [Azure クラシック ポータル](http://manage.windowsazure.com/), 、クリックして **クラウド サービス**します。

2. クラウド サービスを選択し、クリックして **削除**します。 (ダッシュボードを開かないでクラウド サービスを選択するには、クラウド サービスの名前以外の場所をクリックします)。

    ステージング環境または運用環境のデプロイメントがある場合、ウィンドウの下部に次のような選択肢のメニューが表示されます。 クラウド サービスを削除する前に、既存の展開をすべて削除する必要があります。

    ![削除メニュー](./media/cloud-services-how-to-manage/CloudServices_DeleteMenu.png)


3. 展開を削除しても **運用環境のデプロイを削除** または **ステージング環境のデプロイを削除**します。 次に、確認プロンプトで次のようにクリックします。 **はい**します。 

4. クラウド サービスの削除を予定している場合は、必要に応じて手順 3. を繰り返して、その他のデプロイもすべて削除します。

5. クラウド サービスを削除しても **クラウド サービスの削除**します。 次に、確認プロンプトで次のようにクリックします。 **はい**します。

> [AZURE.NOTE]
> Azure でクラウド サービスに詳細監視が構成されている場合、クラウド サービスを削除しても、ストレージ アカウントから監視データは削除されません。 データは手作業で削除する必要があります。 メトリック テーブルを検索する場所については、次を参照してください。"する方法: 詳細監視 Azure クラシック ポータルの外部データ アクセス"で [クラウド サービスの監視方法](cloud-services-how-to-monitor.md)します。

## 次のステップ

 * [クラウド サービスの一般的な構成](cloud-services-how-to-configure.md)します。
* 学習方法 [クラウド サービス デプロイ](cloud-services-how-to-create-deploy.md)します。
* 構成、 [カスタム ドメイン名](cloud-services-custom-domain-name.md)します。
* 構成 [ssl 証明書](cloud-services-configure-ssl-certificate.md)します。

