<properties 
   pageTitle="Service Bus の料金と課金 |Microsoft Azure"
   description="Service Bus の料金体系の概要です。"
   services="service-bus"
   documentationCenter="na"
   authors="sethmanheim"
   manager="timlt"
   editor="tysonn" />
<tags 
   ms.service="service-bus"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="09/10/2015"
   ms.author="sethm" />


# Service Bus の料金と課金

Basic では、Service Bus が提供されている標準、および [Premium](service-bus-premium-messaging.md) 階層です。 Service Bus サービス名前空間ごとに作成したサービス レベルを選択することができ、そのレベル選択がすべてのキュー、トピック/サブスクリプション、リレー、およびその名前空間内で作成された Event Hub 全体に適用します。
>[AZURE.NOTE] 現在の Service Bus の料金については、次を参照してください。、 [Service Bus の料金に関する FAQ](service-bus-pricing-faq.md)します。

Service Bus では、キューとトピック/サブスクリプションに次の 2 つのメーターが使用されます。

1. **メッセージング操作**: キューまたはトピック/サブスクリプションのサービス エンドポイントに対する API 呼び出しとして定義されます。 このメーターは、キューおよびトピック/サブスクリプションの課金対象の使用における主要な単位として、送受信されるメッセージを置き換えます。

2. **仲介型接続**: 特定の 1 時間のサンプリング期間中にキュー、トピック/サブスクリプション、または Event Hubs に対して開かれた永続的接続の最大数として定義されます。 このメーターは Standard 階層においてのみ適用され、接続ごとの標準料金に対して追加の接続を開くことができます (以前は、接続はキュー/トピック/サブスクリプションあたり 100 に制限されていました)。

**Standard** 階層ではキューおよびトピック/サブスクリプションで実行される操作に対する段階的料金が導入され、最高の使用レベルでボリューム ベースの割引は最高 80% になります。 また、Standard 階層には 1 か月あたり 10 ドルの基本料金があり、1 か月間に 1250 万操作を追加コストなしで実行できます。

**Premium**階層では、各顧客のワークロードが個別に実行されるように、CPU およびメモリ層でのリソースの分離が提供されます。 このリソースのコンテナーを、*メッセージング ユニット*と呼びます。 各 Premium 名前空間には、1 つ以上のメッセージング ユニットが割り当てられます。 Service Bus の Premium 名前空間ごとに、1 個、2 個、または 4 個のメッセージング ユニットを購入できます。 1 つのワークロードまたはエンティティは、複数のメッセージング ユニットにまたがることができます。課金は 24 時間単位、すなわち日単位ですが、メッセージング ユニットの数は自由に変更できます。 その結果、Service Bus ベースのソリューションのパフォーマンスは、予測可能で反復可能になります。 このパフォーマンスは、より予測可能かつ利用可能なだけでなく、より高速です。 Azure Service Bus Premium メッセージングは、Azure Event Hubs に導入されたストレージ エンジンが基盤になっています。 Premium メッセージングでのピークのパフォーマンスは、Standard レベルよりもはるかに高速です。

標準の基本料金は、Azure サブスクリプションごとに毎月 1 回だけ課金されることに注意してください。 つまり、Standard または Premium 階層の Service Bus 名前空間を 1 つ作成した後は、その同じ Azure サブスクリプションの下に必要なだけいくつでも Standard または Premium 階層の名前空間を追加作成でき、追加の基本料金はかかりません。

2014 年 11 月 1 日より前に作成された既存の Service Bus 名前空間はすべて、Standard 階層に自動的に配置されます。 これにより、Service Bus で現在利用可能なすべての機能に引き続きアクセスできます。 その後、使用することができます、 [Azure クラシック ポータルの [][] 必要な場合は、Basic レベルにダウン グレードします。

次の表は、Basic 階層と Standard/Premium 階層の機能の違いをまとめたものです。

| 機能| 基本| Standard/Premium|
|---|---|---|
| Event Hubs| はい| はい|
| キュー| はい| はい|
| スケジュール設定されたメッセージ| はい| はい|
| トピック/サブスクリプション| いいえ| はい|
| リレー| いいえ| はい|
| トランザクション| いいえ| はい|
| 重複除去| いいえ| はい|
| セッション| いいえ| はい|
| 大きいメッセージ| いいえ| はい|
| ForwardTo| いいえ| はい|
| SendVia| いいえ| はい|
| 仲介型接続 (付属)| Service Bus 名前空間あたり 100| Azure サブスクリプションあたり 1,000|
| 仲介型接続 (超過の許容)| いいえ| はい (課金対象)|

## メッセージング操作

新しい料金モデルの一部として、キューおよびトピック/サブスクリプションに対する課金が変更されます。 これらのエンティティは、メッセージごとの課金から操作ごとの課金に変更されます。 「操作」とは、キューまたはトピック/サブスクリプションのサービス エンドポイントに対して行われたすべての API 呼び出しのことです。 これには、管理、送信/受信、およびセッション状態の操作が含まれます。

| 操作の種類| 説明|
|---|---|
| 管理| キューまたはトピック/サブスクリプションに対する作成、読み取り、更新、削除 (CRUD)。|
| メッセージング| キューまたはトピック/サブスクリプションでのメッセージの送信および受信。|
| セッションの状態| キューまたはトピック/サブスクリプションでのセッション状態の取得または設定。|

次の料金は、2014 年 11 月 1 日から有効になりました。

| 基本| コスト|
|---|---|
| 操作| 0.05 ドル/100 万操作|

| Standard| コスト|
|---|---|
| 基本料金| 10 ドル/月|
| 最初の 1250 万操作/月| あり|
| 1250 万～ 1 億操作/月| 0.80 ドル/100 万操作|
| 1 ～ 25 億操作/月| 0.50 ドル/100 万操作|
| 25 億超操作/月| 0.20 ドル/100 万操作|

>[AZURE.NOTE] Premium 階層は現在プレビュー期間中であり、次の料金には 50% のプレビュー割引が反映されています。

| プレミアム| コスト|
|---|---|
| 毎日| メッセージ単位あたり 11.13 ドルの固定レート|

## 仲介型接続

*仲介型接続*は、キュー、トピック/サブスクリプション、または Event Hubs に対して「永続的に接続された」多数の送信者/受信者を含む顧客使用パターンに対応します。 永続的に接続された送信者/受信者とは、0 以外の受信タイムアウトで AMQP または HTTP を使用して接続しているユーザーです (たとえば、HTTP ロング ポーリング)。 即時タイムアウトする HTTP の送信者および受信者は、仲介型接続になりません。

以前は、キューおよびトピック/サブスクリプションには、URL ごとに 100 同時接続の制限がありました。 現在の課金方式ではキューおよびトピック/サブスクリプションに対する URL 単位の制限はなくなり、Service Bus 名前空間および Azure サブスクリプションのレベルでの仲介型接続に対するクォータと測定が実装されています。

Basic 階層には Service Bus 名前空間あたり 100 個の仲介型接続が含まれ、厳しく制限されています。 この数を超える接続は、Basic 階層では拒否されます。 Standard 階層では名前空間単位での制限がなくなり、Azure サブスクリプション全体で仲介型接続の使用が集計されます。 Standard では、Azure サブスクリプションあたり 1,000 の仲介型接続が (基本料金を超える) 追加料金なしで許可されます。 Azure サブスクリプションの Standard 階層 Service Bus 名前空間全体で仲介型接続の合計が 1,000 を超える場合は、次の表に示すように段階的に課金されます。

| 仲介型接続の数 (Standard 階層)| コスト|
|---|---|
| 最初の 1,000/月| 基本料金に含まれます|
| 1,000 ～ 100,000/月| 接続あたり 0.03 ドル/月|
| 100,000 ～ 500,000/月| 接続あたり 0.025 ドル/月|
| 500,000 超/月| 接続あたり 0.015 ドル/月|

>[AZURE.NOTE] Standard メッセージング階層 (の基本料金には) 1,000 の仲介型接続が含まれ、関連付けられている Azure サブスクリプションのすべてのキュー、トピック/サブスクリプション、Event Hubs で共有できます。

>[AZURE.NOTE] 課金はピーク時の同時接続数に基づき、744 時間/月として時間あたりに配分されます。

|Premium 階層
|---|
|仲介型接続は、Premium 階層では課金されません |。

仲介型接続の詳細については、次を参照してください。、 [FAQ](#FAQ) このトピックで後述します。

## リレー

リレーは、Standard 階層の名前空間でのみ使用できます。 それ以外の階層については、リレーの価格と接続クォータは変更されていません。 つまり、リレーは、引き続き (操作ではなく) メッセージ数およびリレー時間に基づいて課金されます。

| リレーの料金| コスト|
|---|---|
| リレー時間| 0.10 ドル/100 リレー時間|
| メッセージ| 0.01 ドル/10,000 メッセージ|

## FAQ

### リレー時間のメーターはどのようにして計算されますか

See [this topic](service-bus-pricing-faq.md#How-is-the-Relay-Hours-meter-calculated?).

### 仲介型接続とはどのようなもので、どのように課金されますか

仲介型接続は、次のいずれかとして定義されます。

1. クライアントから Service Bus のトピック/サブスクリプション、キュー、または Event Hub への AMQP 接続。

2. Service Bus のトピックまたはキューからメッセージを受信するための、受信タイムアウト値が 0 より大きい HTTP 呼び出し。

階層に含まれる数量 (Standard 階層では 1,000) を超える分のピーク時同時仲介型接続数に対して、Service Bus により課金されます。 ピークは時間単位で測定され、1 か月を 744 時間として按分されて、毎月の請求期間に追加されます。 含まれる数量 (1 か月あたり 1,000 仲介型接続) は、請求期間の最後に、按分された時間単位ピークの合計に対して適用されます。

次に例を示します。

1. 10,000 台のデバイスが単一の AMQP 接続経由で接続し、Service Bus トピックからコマンドを受け取ります。 デバイスは、遠隔測定イベントを Event Hub に送信します。 すべてのデバイスが毎日 12 時間接続する場合、次の接続料金が適用されます (他のすべての Service Bus トピック料金に加えて): 10,000 接続 * 12 時間 * 31 日 / 744 = 5,000 仲介型接続 基本料金に含まれる 1,000 仲介型接続を除く 4,000 仲介型接続に対して 0.03 ドル/仲介型接続が課金され、合計 120 ドルになります。

2. 10,000 台のデバイスが、タイムアウトが 0 ではない HTTP 経由で Service Bus キューからメッセージを受信します。 すべてのデバイスが毎日 12 時間接続する場合、接続料金は次のようになります (他のすべての Service Bus 料金に加えて): 10,000 HTTP 受信接続 * 12 時間/日 * 31 日 / 744 時間 = 5,000 仲介型接続

### 仲介型接続の料金はキューおよびトピック/サブスクリプションには適用されますか

はい。 送信側システムまたはデバイスの数に関係なく、HTTP を使用したベントの送信には接続料金は発生しません。 0 より大きいタイムアウトを使用する HTTP の受信イベント ("ロング ポーリング" とも呼ばれます) では、仲介型接続料金が発生します。 AMQP 接続では、接続が送信または受信のどちらに使用されるかに関係なく、仲介型接続料金が発生します。 Basic 名前空間では、100 個の仲介型接続は無料で許可されることに注意してください。 また、これは Azure サブスクリプションに対して許可される仲介型接続の最大数です。 Azure サブスクリプションのすべての Standard 名前空間全体で最初の 1,000 個の仲介型接続は、(基本料金を超える) 追加料金なしで含まれます。 これは多くのサービス間メッセージング シナリオに対して十分であり、通常では、仲介型接続料金は多数のクライアントで AMQP または HTTP のロング ポーリングを使用する場合にのみ発生します。たとえば、より効率的なイベントストリーミングを行う場合、あるいは多数のデバイスまたはアプリケーション インスタンスとの双方向通信を有効にする場合などです。

## 関連項目

[Service Bus の料金に関する FAQ](service-bus-pricing-faq.md)


[azure classic portal]: http://manage.windowsazure.com 

