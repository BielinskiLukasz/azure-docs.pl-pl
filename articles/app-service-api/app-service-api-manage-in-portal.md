<properties 
    pageTitle="API アプリの管理" 
    description="Azure ポータルと Visual Studio のサーバー エクスプローラーを使用して Azure App Service API アプリを管理する方法について説明します。" 
    services="app-service\api" 
    documentationCenter="" 
    authors="tdykstra" 
    manager="wpickett" 
    editor="jimbe"/>

<tags 
    ms.service="app-service-api" 
    ms.workload="web" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na"
    ms.topic="article" 
    ms.date="12/04/2015" 
    ms.author="tdykstra"/>

# Azure App Service の API アプリの管理

[AZURE.INCLUDE [app-service-api-v2-note](../../includes/app-service-api-v2-note.md)]

この記事では、 [Azure プレビュー ポータル](https://portal.azure.com/) API アプリの管理および監視タスクを実行します。 実行できるタスクのいくつかを次に示します。

- 認証を構成する。 
- 自動スケールを有効にする。
- ログを表示する。
- API アプリから送信された要求の数と、API アプリによって使用されたデータの量を調べる。
- API アプリをバックアップし、アラートを作成する。
- ロールベースのアクセス セキュリティを構成する。

また、Visual Studio のサーバー エクスプローラー ウィンドウでいくつかの管理タスクを実行する方法についても説明します。

## Azure プレビュー ポータルの API アプリとゲートウェイのブレード

Azure App Service で API アプリは、 [web アプリ](../app-service-web/app-service-web-overview.md) web サービスをホストするための他の機能を持ちます。 Azure ポータルでは、 **API アプリ** ブレードで API に固有の機能を管理するため、 **API アプリ ホスト** ブレードで、基になる web アプリを管理するためです。 

少なくとも 1 つの API アプリを含むすべてのリソース グループにも含まれています、  *ゲートウェイ*します。 ゲートウェイはプロキシとして機能します。つまり、リソース グループ内のすべての API アプリの認証などの管理機能を処理します。 API アプリと同様、ゲートウェイが余分な機能を持つ web アプリ、ゲートウェイを管理するための 2 つのポータル ブレードもありますので: **ゲートウェイ** ゲートウェイ固有の関数では、ブレードと **ゲートウェイ ホスト** 基になる web アプリを管理するためのブレードです。

### [API アプリ] ブレードでのみ実行できるタスク

使用する、 **API アプリ** ブレードで、次のタスク。

- アクセス レベルの設定]、[ **設定 > アプリケーション設定**します。 既定値は内部です。つまり、同じリソース グループに属する API アプリのみが API アプリを呼び出すことができます。 詳細については、次を参照してください。 [API アプリの保護](app-service-api-dotnet-add-authentication.md)します。   
- ポリシーの構成の更新 - クリック **設定 > アプリケーション設定**します。 既定値は **に**します。 これは、API アプリの新しいバージョンがマーケットプレースに発行されたとき、重大な変更でない場合は API アプリが新しいバージョンに自動的に更新されることを意味します。  
- API アプリからの発信呼び出しをクリックし、認証を構成する **設定 > 認証**します。  API アプリから認証を必要とする外部サービスを呼び出す場合、必要な構成値はここに入力します。 たとえば、Dropbox コネクタでは、Dropbox サービスへのアクセスにクライアント ID とクライアント シークレットが必要になります。
- 構成 [RBAC](../role-based-access-control-configure.md) -クリックして **設定 > ユーザー**します。 ここで構成するユーザー アクセスでは、API アプリ固有の機能にアクセスできるユーザーのみを決定します。 Web アプリの機能用には、RBAC を構成するには、使用、 **API アプリ ホスト** ブレードです。 通常は、API アプリと API アプリ ホストの RBAC 設定では、同期を保つようにします。 API アプリは、API アプリ ホストへのアクセスをユーザーが指定している場合は、機能を使用することはできません、 **API アプリ** ブレードで API アプリ ホストに実際に関連します。
- API 定義の表示 -] をクリック **API の定義** で、 **概要** セクションには、API アプリによって公開されるメソッドの一覧です。
- [Hybrid Connection Manager インストール](../app-service-logic/app-service-logic-hybrid-connection-manager.md)します。 ハイブリッド接続マネージャーを使用すると、SQL Server、SAP などのオンプレミスのシステムに接続できます。 このハイブリッド接続は、Azure Service Bus を使用して接続し、Azure リソースとオンプレミスのリソースの間のセキュリティを制御します。

### [API アプリ] ブレードと [API アプリ ホスト] ブレードの両方で実行できるタスク 

 **API アプリ** ブレードでは、基になる web アプリに関連する多くのタスクを実行することができます。 実行できるタスクの例を次に示します。

* API アプリをホストする Web アプリの停止、開始、再起動。  
- 選択 **要求とエラー** よく知られている HTTP エラー コードを含むさまざまなパフォーマンス メトリックを追加するなどの 200 400、500 の HTTP ステータス コード。
- 応答時間、API アプリに対して実行された要求の数、受信したデータの量、送信したデータの量の表示。 
- メトリックに対して指定したしきい値を超過した場合の電子メール アラートの作成。 
- どの程度を参照してください **CPU** は現在を API アプリで使用されるレビュー **使用量クォータ** MB、およびコスト レベルに基づく最大データ使用します。
- 参照してください **見積もりを費やす**  を API アプリの実行の潜在的なコストを判断します。
- アプリケーション ログとその他の IIS ログ (Web サーバー ログ、FREB ログなど) の表示。
- 選択 **プロセス** プロセス エクスプ ローラーを開きます。 プロセス エクスプローラーには、Web インスタンスとそのプロパティ (スレッド数、メモリ使用量など) が表示されます。

使用してこれらのタスクを実行することも、 **API アプリ ホスト** ブレードです。  この 2 つのブレードが多くの同じ UI を共有している理由はこのためです。 など、 **停止**, 、**開始**, と **再起動** ボタンを **API アプリ** ブレードとまったく同じ効果がある、 **停止**, 、**開始**, と **再起動** ボタンを **API アプリ ホスト** ブレードです。 提供されている、監視情報同様に、 **API アプリ** ブレードと同じ、 **API アプリ ホスト** ブレードを表示します。 

提供されている機能だけ **API アプリ** ブレードには、 **API アプリ ホスト** ブレードは、前のセクションで一覧表示されます。

### [API アプリ ホスト] ブレードでのみ実行できるタスク

使用する、 **API アプリ ホスト** ブレードは、すべての web アプリの処理を行うタスクです。

### [ゲートウェイ] ブレードでのみ実行できるタスク

使用する、 **ゲートウェイ** ブレードで、次のタスク。

- 認証プロバイダーの構成] をクリックの API アプリへの着信呼び出しに対して **設定 > Identity**します。 ゲートウェイでリソース グループ内の API アプリの呼び出しを許可する前にユーザーを認証する必要がある場合、必要な構成値はここに入力します。 詳細については、次を参照してください。 [と構成のテスト Azure App Service での SaaS コネクタ](app-service-api-connnect-your-app-to-saas-connector.md)します。 
- 構成 [RBAC](../role-based-access-control-configure.md) -クリックして **設定 > ユーザー**します。 ここで構成するユーザー アクセスでは、すべての Web アプリで共有される機能ではなく、ゲートウェイ固有の機能にアクセスできるユーザーのみを決定します。

### [ゲートウェイ] ブレードと [ゲートウェイ ホスト] ブレードの両方で実行できるタスク 

[API アプリ] ブレードと [API アプリ ホスト] ブレードの場合と同様に、[ゲートウェイ] ブレードと [ゲートウェイ ホスト] ブレードは、UI を共有します。

### [ゲートウェイ ホスト] ブレードでのみ実行できるタスク

使用する、 **ゲートウェイ ホスト** ブレードは、すべての web アプリの処理を行うタスクです。

## <a id="navigate"></a>API アプリとゲートウェイのブレードに移動する方法 

1 つに移動する方法、 **API アプリ** ブレードは、Azure ポータルの [参照] 機能を使用します。  ポータルのホーム ページ [ **参照 > API Apps** 管理できるすべての API アプリを表示します。 

![](./media/app-service-api-manage-in-portal/browse.png)

![](./media/app-service-api-manage-in-portal/apiappslist.png)

### [API アプリ] ブレードへの移動

内の行をクリックすると、 **API Apps** ] ボックスの一覧のブレードで、ポータルに表示されます、 **API アプリ** ブレードです。

![](./media/app-service-api-manage-in-portal/apiappblade.png)

### [API アプリ ホスト] ブレードへの移動

取得する、 **API アプリ ホスト** ブレードで、をクリックして **API アプリ ホスト** で、 **API アプリ** ブレードです。

![](./media/app-service-api-manage-in-portal/apiappbladetohost.png)

![](./media/app-service-api-manage-in-portal/apiapphostbladenocallouts.png)

### [ゲートウェイ] ブレードへの移動

取得する、 **ゲートウェイ** ブレードで、をクリックして、 **ゲートウェイ** 内のリンク、 **API アプリ** ブレードです。
   
![](./media/app-service-api-manage-in-portal/apiappbladegotogateway.png)

![](./media/app-service-api-manage-in-portal/gatewaybladenocallout.png)

### [ゲートウェイ ホスト] ブレードへの移動

取得する、 **ゲートウェイ ホスト** ブレードで、をクリックして、 **ゲートウェイ ホスト** 内のリンク、 **ゲートウェイ** ブレードです。
   
![](./media/app-service-api-manage-in-portal/gatewaybladetohost.png)

![](./media/app-service-api-manage-in-portal/gatewayhost.png)

## Visual Studio のサーバー エクスプローラーでの API アプリへのアクセス

 **サーバー エクスプ ローラー** Visual Studio でリモート デバッグ セッションを開始、ストリーミング ログを表示して、ポータルで API アプリ] ブレードを開き、メニュー エントリをクリックします。

サーバー エクスプ ローラーでの API アプリを表示するクリックして **Azure > App Service > [リソース グループ名] > [API アプリ名]**, の図に示すように、します。

![](./media/app-service-api-manage-in-portal/se.png)

## 次のステップ

この記事では、Azure ポータルを使用して API アプリの管理タスクを実行する方法について説明しました。 API アプリの API アプリのギャラリーからインストールする場合も参照してください [管理および監視、組み込みの API apps とコネクタ](../app-service-logic/app-service-logic-monitor-your-connectors.md)します。

コマンドラインを使用して API アプリを管理する方法については、記事を参照してください、 **自動化** (幅の広いブラウザー ウィンドウ) の記事の左側に表示されるメニューのセクション (幅の狭いブラウザー ウィンドウ) の記事の上部にあるか。


