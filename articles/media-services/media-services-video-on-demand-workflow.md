<properties 
    pageTitle="Azure Media Services を使用したメディアのオンデマンド配信" 
    description="このトピックでは、Azure Media Services を使用したメディアのオンデマンド配信の一般的なシナリオについて説明します。" 
    services="media-services" 
    documentationCenter="" 
    authors="Juliako" 
    manager="dwrede" 
    editor=""/>

<tags 
    ms.service="media-services" 
    ms.workload="media" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="12/05/2015"   
    ms.author="juliako"/>


#Azure Media Services を使用したメディアのオンデマンド配信

##概要

このトピックでは、一般的な Azure Media Services (AMS) ビデオ オン デマンドのワークフローの手順を説明します。 各手順は関連するトピックにリンクしています。 さまざまなテクノロジを使用して達成できるタスクでは、任意のテクノロジへリンクするボタンがあります (たとえば、.NET または REST)。   

Media Services は既存のツールとプロセスに統合できます。 たとえば、コンテンツをオンサイトでエンコードして、複数の形式にコード変換するために Media Services にアップロードし、Azure CDN やサードパーティ CDN を通じて配信します。 

次の図は、ビデオ オンデマンド ワークフローに関連する Media Services プラットフォームの主要な部分を示しています。
![VoD ワークフロー][vod-overview]

##<a id="vod_scenarios"></a>一般的なシナリオ: メディア オンデマンドの配信

###ストレージのコンテンツを保護し、ストリーミング メディアを平文 (暗号化されていない) で配信する

1. 高品質な中間ファイルを資産にアップロードします。
    
    ストレージ暗号化オプションを資産に適用し、アップロード中のコンテンツとストレージ内のコンテンツを保護することをお勧めします。 
1. アダプティブ ビットレート MP4 セットにエンコードします。 

    ストレージ暗号化オプションを出力資産に適用し、保存されているコンテンツを保護することをお勧めします。
    
1. 資産配信ポリシーを構成します (動的パッケージで使用)。 
    
    場合は、資産がストレージで暗号化された、する **必要があります** アセット配信ポリシーを構成します。 

1. OnDemand ロケーターを作成して資産を発行します。

    コンテンツをストリームするストリーミング エンドポイントに少なくとも 1 つのストリーミング予約ユニットがあることを確認します。

1. 公開済みコンテンツをストリーミングします。

###ストレージ内のコンテンツを保護し、動的に暗号化されたストリーミング メディアを配信する  

動的暗号化を使用するには、暗号化されたコンテンツのストリーミング元となるストリーミング エンドポイントに、少なくとも 1 つのストリーミング予約ユニットが必要です。

1. 高品質な中間ファイルを資産にアップロードします。 ストレージ暗号化オプションを資産に適用します。
1. アダプティブ ビットレート MP4 セットにエンコードします。 ストレージ暗号化オプションを出力資産に適用します。
1. 再生中に動的に暗号化する資産の、暗号化コンテンツ キーを作成します。
2. コンテンツ キー承認ポリシーを構成します。
1. 資産配信ポリシーを構成します (動的パッケージと動的暗号化で使用)。
1. OnDemand ロケーターを作成して資産を発行します。
1. 公開済みコンテンツをストリーミングします。 

###コンテンツのインデックス作成

1. 高品質な中間ファイルを資産にアップロードします。
1. コンテンツのインデックスを作成します。

    インデックス作成ジョブは、ビデオの再生でクローズド キャプション (CC) として使用できるファイルを生成します。 また、ビデオ内を検索したり、正確なビデオの位置へ移動したりできるようにするファイルを生成します。 

1. インデックス付けされたコンテンツを使用します。


###プログレッシブ ダウンロードの提供 

1. 高品質な中間ファイルを資産にアップロードします。
1. アダプティブ ビットレート MP4 セットまたは単一の MP4 にエンコードします。
1. OnDemand または SAS ロケーターを作成して資産を発行します。

    OnDemand ロケーターを使用する場合、コンテンツを徐々にダウンロードするストリーミング エンドポイントに、少なくとも 1 つのストリーミング予約ユニットがあることをご確認ください。

    SAS ロケーターを使用する場合、コンテンツは Azure BLOB ストレージからダウンロードされます。 この場合、ストリーミング予約ユニットは必要ありません。
  
1. コンテンツを徐々にダウンロードします。

この記事には、開発環境をセットアップする方法と、上記のタスクを実行する方法を説明するトピックへのリンクが含まれています。


##概念

オンデマンドのコンテンツの配信に関連する概念については、次を参照してください。 [Media Services の概念](media-services-concepts.md)します。
players.md)。

##Media Services のラーニング パス

[AZURE.INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

##フィードバックの提供

[AZURE.INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]


[vod-overview]: ./media/media-services-video-on-demand-workflow/media-services-video-on-demand.png
 

