<properties 
    pageTitle="Cloud Services と管理証明書 | Microsoft Azure" 
    description="Microsoft Azure で証明書を作成し、使用する方法を学習します。" 
    services="cloud-services" 
    documentationCenter=".net" 
    authors="Thraka" 
    manager="timlt" 
    editor=""/>

<tags 
    ms.service="cloud-services" 
    ms.workload="tbd" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="10/09/2015"
    ms.author="adegeo"/>

# Azure Cloud Services の証明書の概要
証明書を Azure でクラウド サービスの使用 ([サービス証明書](#what-are-service-certificates)) との認証に、管理 API ([管理証明書](#what-are-management-certificates))。 このトピックではどのように両方の種類の証明書の全般的な概要に [作成](#create) 、および方法 [展開](#deploy) を Azure にします。

Azure で使用される証明書は x.509 v3 証明書であり、別の信頼された証明書によって署名することも、自己署名することもできます。 自己署名証明書は、作成者自身が署名するため、既定では信頼されません。 ほとんどのブラウザーではこれを無視できます。 自己署名証明書は、クラウド サービスを開発し、テストする際に、ユーザー自身によってのみ使用されるべき機能です。 

Azure が使用する証明書には、プライベート キーか公開キーを含めることができます。 証明書には、それらを明確な方法で識別する手段を提供する拇印があります。 この拇印が、Azure で使用される [構成ファイル](cloud-services-configure-ssl-certificate.md) を識別するクラウド サービス証明書を使用する必要があります。 

## サービス証明書とは何でしょうか。
サービス証明書はクラウド サービスに付属して、サービスとの間のセキュリティで保護された通信を有効にします。 次の例では、Web ロールをデプロイして、公開されている HTTPS エンドポイントを認証できる証明書を指定します。 サービス定義で定義されているサービス証明書は、ロールのインスタンスを実行している仮想マシンに自動的にデプロイされます。 

Azure クラシック ポータルまたはサービス管理 API を使用して、サービス証明書を Azure クラシック ポータルにアップロードすることができます サービス証明書は、特定のクラウド サービスに関連付けられ、サービス定義ファイルのデプロイメントに割り当てられます。

サービス証明書は、サービスとは別に管理することができ、別の人が管理する場合があります。 たとえば、開発者が IT 管理者が 以前 Azure にアップロードした証明書を参照するサービス パッケージをアップロードする場合があります。 IT 管理者は、新しいサービス パッケージをアップロードすることなくサービスの構成を変更する証明書を管理、更新できます。 これは、証明書の論理名とそのストアの名前と場所がサービス定義ファイルで指定され、証明書の拇印はサービス構成ファイルで指定されているために可能です。 証明書を更新するには、サービス構成ファイルに新しい証明書をアップロードし、拇印値を変更するだけです。

## 管理証明書とは何でしょうか。
管理証明書を使用すると、Azure によって提供されるサービス管理 API を使用して認証できます。 多くのプログラムとツール (Visual Studio や Azure SDK など) でこれらの証明書を使用して、さまざまな Azure サービスの構成とデプロイを自動化します。 これらはクラウド サービスには実際には関連がありません。 

>[AZURE.WARNING] ご注意ください。 これらの種類の証明書を使用して認証する場合、関連付けられているサブスクリプションを管理できます。 

### 制限事項
各サブスクリプションには、100 の管理証明書の制限があります。 また、特定のサービス管理者のユーザーの ID の下にあるすべてのサブスクリプションにも 100 の管理証明書の制限があります。 アカウント管理者のユーザー ID が既に 100 の管理証明書の追加に使用されていて、さらに証明書が必要な場合は、証明書を追加する共同管理者を追加できます。 

100 を超える証明書を追加する前に既存の証明書を再利用できるかどうかをご確認ください。 共同管理者を使用すると、証明書の管理プロセスが不必要に複雑になる場合があります。


<a name="create"></a>
## 新しい自己署名証明書を作成する
次の設定に準拠していれば、使用可能な任意のツールを使用して自己署名証明書を作成することができます。

* X.509 証明書。
* 秘密キーが含まれている。
* キー交換用に作成される (.pfx ファイル)。
* 証明書の件名はクラウド サービスへのアクセスに使用されるドメインと一致する必要があります。 
    > cloudapp.net (または Azure に関連する) ドメインの SSL 証明書を取得することはできません。証明書の件名は、アプリケーションへの接続に使用 されるカスタム ドメイン名と一致させる必要があります。 たとえば、 **contoso.net**, ではなく、 **contoso.cloudapp.net**します。
* 最大で 2048 ビットの暗号化。
* **サービス証明書のみ**: クライアント側の証明書に存在する必要があります、 *個人* 証明書ストア。

Windows で証明書を作成する簡単な方法として、`makecert.exe` ユーティリティを使用する方法と IIS を使用する方法の 2 つがあります。

### Makecert.exe

このユーティリティは、Visual Studio 2013/2015 でインストール済みです。 これは、証明書を作成してインストールできるコンソール ユーティリティです。 起動した場合、 **VS2015 の開発者コマンド プロンプト** ショートカット Visual Studio をインストールするときに作成される、コマンド プロンプトが表示されますをパスにこのツールがあります。

    makecert -sky exchange -r -n "CN=[CertificateName]" -pe -a sha1 -len 2048 -ss My -sv [CertificateName].pvk [CertificateName].cer


### インターネット インフォメーション サービス (IIS)

インターネット上には、IIS を使用した実行方法について説明する多くのページがあります。 [ここで](https://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-in-iis-7.html) は、優れた見つけた思いますも説明します。 

### Java
Java を使用して [証明書を作成](../app-service-web/java-create-azure-website-using-java-sdk.md#create-a-certificate)します。

### Linux
[これは、](..\virtual-machines\virtual-machines-linux-use-ssh-key.md) SSH を使用した証明書を作成する方法について説明します。

## 次のステップ

[Azure 旧ポータルにサービス証明書をアップロード](cloud-services-configure-ssl-certificate.md) (または [Azure ポータル](cloud-services-configure-ssl-certificate-portal.md)) と [ように構成](cloud-services-xml-certs.md) 、クラウド サービスです。

アップロード、 [管理 API 証明書](../azure-api-management-certs.md) Azure 旧ポータルにします。

>[AZURE.NOTE] Azure ポータルでは、API にアクセスする管理証明書を使用しませんが、代わりにユーザー アカウントを使用します。

