<properties 
     pageTitle="カスタム ドメインに Content Delivery Network (CDN) コンテンツをマップする方法" 
     description="このトピックでは、CDN コンテンツをカスタム ドメインにマップする方法を示します。" 
     services="cdn" 
     documentationCenter="" 
     authors="camsoper" 
     manager="dwrede" 
     editor=""/>
<tags 
     ms.service="cdn" 
     ms.workload="media" 
     ms.tgt_pltfrm="na" 
     ms.devlang="na" 
     ms.topic="article" 
     ms.date="12/02/2015" 
     ms.author="casoper"/>

#Content Delivery Network (CDN) エンドポイントにカスタム ドメインをマップする方法

カスタム ドメインを CDN エンドポイントにマッピングすると、提供される CDN エンドポイントを使用せずに、キャッシュ済みコンテンツへの URL に独自のドメイン名を使用することができます。  そのためには、ドメイン レジストラーで CNAME レコードを作成し、カスタム ドメインとサブドメインを CDN エンドポイントにマップします。  CNAME レコードは、ソース ドメインを目的のドメインにマッピングする DNS 機能です。 この場合、ソース ドメインは、カスタム ドメインおよびサブドメインです (サブドメインは常に必要です)。 宛先ドメインは、使用する CDN エンドポイントです。  

> [AZURE.NOTE]
-   ドメインを CDN エンドポイントにマッピングするには、ドメイン レジストラーで CNAME レコードを作成する必要があります。 CNAME レコードは、www.mydomain.com や myblog.mydomain.com などの特定のサブドメインをマップします。 CNAME レコードを mydomain.com などのルート ドメインにマップすることはできません。
-   サブドメインは 1 つの CDN エンドポイントのみに関連付けできます。 CNAME レコードを作成することで、サブドメイン宛てのすべてのトラフィックが指定されたエンドポイントにルーティングされます。  たとえば、www.mydomain.com を CDN エンドポイントに関連付けた場合、ストレージ アカウント エンドポイントやクラウド サービス エンドポイントなど、他の Azure エンドポイントに関連付けることはできません。 ただし、同じドメインの別のサブドメインを別のサービス エンドポイントに使用することはできます。 また、複数のサブドメインを同じ CDN エンドポイントにマップすることもできます。

このトピックの手順では、次の方法について説明します。    

-   [Azure CDN エンドポイント用のカスタム ドメインの登録](#subheading1)
-   [カスタム サブドメインが CDN エンドポイントを参照していることの確認](#subheading3) 

##<a name="subheading1"></a>Azure CDN エンドポイント用のカスタム ドメインの登録

1.  ログイン、 [Azure ポータル](http://portal.azure.com/)します。
2.  をクリックして **参照**, 、し **CDN プロファイル**, 、カスタム ドメインをマップする場合、エンドポイントで CDN プロファイル。  
3.   **CDN プロファイル** ブレードで、サブドメインを関連付ける CDN エンドポイントをクリックします。
4.  クリックして、[エンドポイント] ブレードの上部にある、 **カスタム ドメインの追加** ] ボタンをクリックします。   **カスタム ドメインの追加** ブレードで、新しい CNAME レコードの作成に使用する、CDN エンドポイントから派生したエンドポイント ホスト名が表示されます。 ホスト名のアドレスの形式は、 **& lt;EndpointName >. azureedge.net**します。  このホスト名をコピーして、CNAME レコードの作成に使用できます。  

5.  ドメイン レジストラーの Web サイトに移動して、DNS レコードを作成するセクションを探します。 これにありますセクションなど **ドメイン名**, 、**DNS**, 、または **ネーム サーバー管理**します。
6.  CNAME 管理セクションを見つけます。 詳細設定ページに進み、"CNAME"、"エイリアス"、"サブドメイン" などの語句を探します。
7.  選択したサブドメインをマップする新しい CNAME レコードを作成 (たとえば、 **www** または **cdn**) で表示されたホスト名に、 **カスタム ドメインの追加** ブレードです。
8.  戻り、 **カスタム ドメインの追加** ブレードで、ダイアログ ボックスで、サブドメインを含む、カスタム ドメインを入力します。 たとえば、ドメイン名は www.mydomain.com や cdn.mydomain.com の形式で入力します。   

    入力したドメイン名に対する CNAME レコードが存在するかどうかが Azure によって確認されます。 CNAME が正しければ、カスタム ドメインが検証され、CDN コンテンツで用できるようになります。  

    CNAME レコードがインターネット上のネーム サーバーに反映されるまでに時間がかかる場合があります。 入力した CNAME レコードが正しいのにドメインがすぐに検証されない場合は、数分間待ってからやり直してください。

##<a name="subheading3"></a>カスタム サブドメインが CDN エンドポイントを参照していることの確認

-   使用するカスタム ドメインの登録が完了したら、そのカスタム ドメインを使用して、CDN エンドポイントにキャッシュされているコンテンツにアクセスできます。
まず、エンドポイントにキャッシュされているパブリック コンテンツがあることを確認します。 たとえば、CDN エンドポイントがストレージ アカウントに関連付けられている場合は、CDN はパブリック BLOB コンテナーにコンテンツをキャッシュします。 カスタム ドメインをテストするには、コンテナーでパブリック アクセスが許可され、少なくとも 1 つの BLOB がコンテナーに格納されていることを確認します。
-   ブラウザーでカスタム ドメインを使用して BLOB のアドレスに移動します。 たとえば、カスタム ドメインは **www.mydomain.com**, 、キャッシュされた blob の URL は次の URL のようになります。  
    
        http://www.mydomain.com/mypubliccontainer/acachedblob.jpg
-   CDN エンドポイントがクラウド サービスに関連付けられている場合は、キャッシュされたコンテンツの URL は次のようになります。

        http://www.mydomain.com/mycloudservice

##関連項目


[Azure の Content Delivery Network (CDN) を有効にする方法](./cdn-create-new-endpoint.md
)  

 
