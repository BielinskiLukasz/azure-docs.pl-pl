<properties
   pageTitle="現行バージョンの Azure Tools にプロジェクトをアップグレードする方法 | Microsoft Azure"
   description="Visual Studio の Azure プロジェクトを現行バージョンの Azure Tools にアップグレードする方法について説明します。"
   services="visual-studio-online"
   documentationCenter="na"
   authors="TomArcher"
   manager="douge"
   editor="" />
<tags
   ms.service="multiple"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="multiple"
   ms.date="09/28/2015"
   ms.author="tarcher" />

# 現行バージョンの Azure Tools for Visual Studio にプロジェクトをアップグレードする方法

## 概要

現行 (1.6 より後の) バージョン の Azure Tools をインストールすると、バージョン 1.6 (2011 年 11 月) より前の Azure Tools を使用して作成されたプロジェクトはすべて、プロジェクトを開いた際に自動的にアップグレードされます。 バージョン 1.6 (2011 年 11 月) を使用してプロジェクトを作成し、まだそのバージョンがインストールされている場合は、バージョンの低い方でプロジェクトを開けば、アップグレードするかどうかの判断を先延ばしすることができます。

## アップグレードしたときのプロジェクトの変化

プロジェクトが自動的にアップグレードされた場合、またはアップグレードすることを明示的に指定した場合、特定のアセンブリの現行バージョンで動作するようにプロジェクトに変更が加えられます。また、このセクションでも説明していますが、いくつかのプロパティも変更されます。 既にあるプロジェクトと新しいバージョンのツールとの互換性を確保するために、他の変更が必要になる場合は、それらの変更を手動で行う必要があります。

- 新しいバージョンの Microsoft.WindowsAzure.Diagnostics.DiagnosticMonitoirTraceListener.dll を参照するように、Web ロールの web.config ファイルと worker ロールの app.config ファイルがアップグレードされます。

- Microsoft.WindowsAzure.StorageClient.dll、Microsoft.WindowsAzure.Diagnostics.dll、Microsoft.WindowsAzure.ServiceRuntime.dll の各アセンブリが新しいバージョンにアップグレードされます。

- Azure のプロジェクト ファイル (.ccproj) に格納されていた発行プロファイルは、拡張子 .azurePubXml を別のファイルに移動、 **発行** サブディレクトリ。

- 新機能と変更された機能をサポートするために、発行プロファイルのいくつかのプロパティが更新されます。 **[Allowupgrade]** は置き換え **DeploymentReplacementMethod** 同時にまたは段階的にデプロイされたクラウド サービスを更新できるためです。

- プロパティ **UseIISExpressByDefault** が追加され、デバッグに使用する web サーバーは IIS Express にインターネット インフォメーション サービス (IIS) を自動的に更新します。 false に設定します。 最近のバージョンのツールで作成したプロジェクトの Web サーバーは、既定では IIS Express になります。

- 既にあるプロジェクトのロールで Azure のキャッシュ機能がホストされている場合、プロジェクトをアップグレードするときにサービス構成 (.cscfg ファイル) とサービス定義 (.csdef ファイル) 内の一部のプロパティが変更されます。 プロジェクトで使用されている Azure のキャッシュ機能が NuGet パッケージである場合、プロジェクトは最新バージョンのパッケージにアップグレードされます。 web.config ファイルを開き、クライアントの構成がアップグレード処理後も適切に維持されていることを確認する必要があります。 NuGet パッケージを使用せずに、クライアント アセンブリへの参照として Azure のキャッシュ機能を追加した場合は、アセンブリが更新されません。アセンブリへの参照を新しいバージョンに手動で更新する必要があります。

>[AZURE.IMPORTANT] F# プロジェクトの場合、これらのアセンブリの新しいバージョンを参照するように Azure アセンブリへの参照を手動で更新する必要があります。

### Azure プロジェクトを現行リリースにアップグレードする方法

1. アップグレード後のプロジェクトに使用する Visual Studio 環境に、新しいバージョンの Azure Tools をインストールして、アップグレード対象のプロジェクトを開きます。 プロジェクトが 1.6 (2011 年 11 月) リリース未満の Azure Tools で作成されている場合、プロジェクトは新しいバージョンに自動的にアップグレードされます。 2011 年 11 月リリースでプロジェクトが作成され、そのバージョンがまだインストールされている場合、プロジェクトはそのバージョンで開きます。

1. ソリューション エクスプ ローラーでプロジェクト ノードのショートカット メニューを開き、選択 **プロパティ**, を選択し、 **アプリケーション** 表示されるダイアログ ボックスのタブをクリックします。

     **アプリケーション** ] タブは、プロジェクトに関連付けられているツールのバージョンを表示します。 新しいバージョンの Azure Tools が表示された場合、そのプロジェクトは既にアップグレードされています。 タブに表示より新しいバージョンのツールをインストールしている場合、 **アップグレード** ボタンが表示されます。

1. 選択、 **アップグレード** プロジェクトを現在のバージョンのツールにアップグレードする] ボタンをクリックします。

1. プロジェクトをビルドし、API の変更に起因するエラーがあれば解決してください。 新しいバージョンのコードを変更する方法については、特定の API に関するドキュメントを参照してください。

